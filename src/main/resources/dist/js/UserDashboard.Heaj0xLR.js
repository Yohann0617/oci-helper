import{u as A,v as H,c,o as a,b as e,w as s,r as o,F as P,k as C,x as m,q as _,a as d,p as x,y as R,s as p,t as f,z as Y}from"./chunk-vendors.aIPSPsZX.js";import{_ as q}from"./index.Ciamrurs.js";const j={components:{Fold:H,Expand:A},mounted(){this.isDarkMode=localStorage.getItem("theme")==="dark",this.currentVersion=localStorage.getItem("currentVersion"),this.latestVersion=localStorage.getItem("latestVersion"),this.needUpdate=localStorage.getItem("currentVersion")!==localStorage.getItem("latestVersion")},computed:{themeText(){return this.isDarkMode?"å¼€ç¯ğŸ’¡":"å…³ç¯ğŸŒ™"}},data(){return{needUpdate:!1,showUpdateDialog:!1,currentVersion:"",latestVersion:"",activeMenu:"home",isCollapsed:!1,isDarkMode:localStorage.getItem("theme")==="dark"}},methods:{confirmUpdate(){this.$axios.post("/sys/updateVersion",{}).then(n=>{n.data.success?C({message:n.data.msg,type:"success",duration:5e3}):C({message:n.data.msg,type:"error",duration:2e3})}).catch(n=>{console.error("Error:",n)}).finally(()=>{this.needUpdate=!1,this.showUpdateDialog=!1,this.logout()})},toggleTheme(){const n=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",n?"dark":"light"),this.isDarkMode=n},handleSelect(n){this.activeMenu=n,this.$router.push(`/dashboard/${n}`)},toggleSidebar(){this.isCollapsed=!this.isCollapsed},showLogoutConfirm(){window.confirm("ç¡®å®šè¦é€€å‡ºç™»å½•å—?")?(this.logout(),sessionStorage.clear()):this.$message.info("å–æ¶ˆé€€å‡º")},logout(){sessionStorage.clear(),sessionStorage.removeItem("token"),this.$router.push("/login")}}},G={key:0,class:"logo",style:{"text-align":"center"}},J={key:0,class:"menu-text"},K={key:0,class:"menu-text"},O={key:0,class:"menu-text"},Q={key:0,class:"menu-text"},W={key:0,class:"menu-text"},X={key:0,class:"menu-text"},Z={class:"right-buttons"};function $(n,l,ee,se,t,i){const b=o("Expand"),r=o("el-icon"),w=o("Fold"),y=o("HomeFilled"),g=o("el-menu-item"),V=o("UserFilled"),v=o("Finished"),S=o("List"),U=o("Tools"),D=o("Promotion"),F=o("el-menu"),I=o("el-scrollbar"),M=o("el-aside"),h=o("el-button"),T=o("el-header"),E=o("router-view"),L=o("el-main"),B=o("el-link"),N=o("el-footer"),k=o("el-container"),z=o("el-dialog");return a(),c(P,null,[e(k,{class:"dashboard-container"},{default:s(()=>[e(M,{width:t.isCollapsed?"45px":"180px",class:m(["sidebar",{collapsed:t.isCollapsed}])},{default:s(()=>[t.isCollapsed?_("",!0):(a(),c("div",G,"oci-helper")),d("div",{class:"toggle-button",onClick:l[0]||(l[0]=(...u)=>i.toggleSidebar&&i.toggleSidebar(...u))},[t.isCollapsed?(a(),x(r,{key:0},{default:s(()=>[e(b)]),_:1})):(a(),x(r,{key:1},{default:s(()=>[e(w)]),_:1}))]),e(I,null,{default:s(()=>[e(F,{"default-active":t.activeMenu,onSelect:i.handleSelect,router:"",class:"sidebar-menu","background-color":"transparent"},{default:s(()=>[e(g,{index:"home",class:m({"menu-item-collapsed":t.isCollapsed})},{default:s(()=>[e(r,{class:"menu-icon"},{default:s(()=>[e(y)]),_:1}),t.isCollapsed?_("",!0):(a(),c("span",J,"ä¸»é¡µ"))]),_:1},8,["class"]),e(g,{index:"user",class:m({"menu-item-collapsed":t.isCollapsed})},{default:s(()=>[e(r,{class:"menu-icon"},{default:s(()=>[e(V)]),_:1}),t.isCollapsed?_("",!0):(a(),c("span",K,"é…ç½®åˆ—è¡¨"))]),_:1},8,["class"]),e(g,{index:"createTask",class:m({"menu-item-collapsed":t.isCollapsed})},{default:s(()=>[e(r,{class:"menu-icon"},{default:s(()=>[e(v)]),_:1}),t.isCollapsed?_("",!0):(a(),c("span",O,"ä»»åŠ¡åˆ—è¡¨"))]),_:1},8,["class"]),e(g,{index:"ociLog",class:m({"menu-item-collapsed":t.isCollapsed})},{default:s(()=>[e(r,{class:"menu-icon"},{default:s(()=>[e(S)]),_:1}),t.isCollapsed?_("",!0):(a(),c("span",Q,"æœåŠ¡æ—¥å¿—"))]),_:1},8,["class"]),e(g,{index:"sysCfg",class:m({"menu-item-collapsed":t.isCollapsed})},{default:s(()=>[e(r,{class:"menu-icon"},{default:s(()=>[e(U)]),_:1}),t.isCollapsed?_("",!0):(a(),c("span",W,"ç³»ç»Ÿé…ç½®"))]),_:1},8,["class"]),e(g,{index:"ai-chat",class:m({"menu-item-collapsed":t.isCollapsed})},{default:s(()=>[e(r,{class:"menu-icon"},{default:s(()=>[e(D)]),_:1}),t.isCollapsed?_("",!0):(a(),c("span",X,"AIèŠå¤©å®¤"))]),_:1},8,["class"])]),_:1},8,["default-active","onSelect"])]),_:1})]),_:1},8,["width","class"]),e(k,null,{default:s(()=>[e(T,{class:"header"},{default:s(()=>[l[5]||(l[5]=d("span",null,null,-1)),d("div",Z,[R(e(h,{onClick:l[1]||(l[1]=u=>t.showUpdateDialog=!0)},{default:s(()=>[p("ğŸ”” æ–°ç‰ˆæœ¬ï¼š"+f(t.latestVersion),1)]),_:1},512),[[Y,t.needUpdate]]),e(h,{onClick:i.toggleTheme,class:"theme-button"},{default:s(()=>[p(f(i.themeText),1)]),_:1},8,["onClick"]),d("button",{onClick:l[2]||(l[2]=(...u)=>i.showLogoutConfirm&&i.showLogoutConfirm(...u)),class:"logout-button"},"é€€å‡ºç™»å½•")])]),_:1}),e(L,null,{default:s(()=>[e(E)]),_:1}),e(N,{style:{"text-align":"center"}},{default:s(()=>[e(B,{href:"https://github.com/Yohann0617",target:"_blank"},{default:s(()=>[p("Â© Yohann All Rights Reserved "+f(t.currentVersion),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(z,{modelValue:t.showUpdateDialog,"onUpdate:modelValue":l[4]||(l[4]=u=>t.showUpdateDialog=u),title:"ç‰ˆæœ¬æ›´æ–°æç¤º",width:"400px",center:""},{footer:s(()=>[e(h,{onClick:l[3]||(l[3]=u=>t.showUpdateDialog=!1)},{default:s(()=>l[8]||(l[8]=[p("å–æ¶ˆ")])),_:1}),e(h,{type:"primary",onClick:i.confirmUpdate},{default:s(()=>l[9]||(l[9]=[p("ç«‹å³æ›´æ–°")])),_:1},8,["onClick"])]),default:s(()=>[d("p",null,[l[6]||(l[6]=p("å½“å‰ç‰ˆæœ¬ï¼š")),d("strong",null,f(t.currentVersion),1)]),d("p",null,[l[7]||(l[7]=p("æœ€æ–°ç‰ˆæœ¬ï¼š")),d("strong",null,f(t.latestVersion),1)])]),_:1},8,["modelValue"])],64)}const le=q(j,[["render",$],["__scopeId","data-v-67b00640"]]);export{le as default};
