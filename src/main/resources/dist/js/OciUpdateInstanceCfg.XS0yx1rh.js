import{_ as L}from"./index.Ciamrurs.js";import{y as P,A as M,o as E,c as T,a as u,b as t,w as o,r as c,K as y,k as i,s as l,t as k}from"./chunk-vendors.aIPSPsZX.js";const U={data(){return{username:"",instanceId:"",ociCfgId:"",instanceCfg:{instanceName:"",ipv6:"",ocpus:1,memory:1,bootVolumeSize:50,bootVolumeVpu:10,shape:""},oneClick500mParams:{ociCfgId:"",instanceId:"",sshPort:22},close500mParams:{ociCfgId:"",instanceId:"",retainBl:!0,retainNatGw:!0},flushLoading:!1,nameLoading:!1,cpuLoading:!1,bootVolumeLoading:!1,ipv6Loading:!1,keepBackupVolume:!1,close500MDialog:!1}},mounted(){this.username=this.$route.query.username,this.instanceId=this.$route.query.ocId,this.ociCfgId=this.$route.query.ociCfgId,this.oneClick500mParams.ociCfgId=this.$route.query.ociCfgId,this.oneClick500mParams.instanceId=this.$route.query.ocId,this.getInstanceCfgInfo()},methods:{goBack(){this.$router.back()},async getInstanceCfgInfo(){this.flushLoading=!0,await this.$axios.post("/oci/getInstanceCfgInfo",{ociCfgId:this.ociCfgId,instanceId:this.instanceId}).then(n=>{n.data.success?(this.instanceCfg=n.data.data,i({message:n.data.msg,type:"success",duration:2e3}),this.flushLoading=!1):i({message:n.data.msg,type:"error",duration:2e3})}).catch(n=>{console.error("Error:",n)})},async oneClick500M(){try{await y.confirm("ç¡®å®šè¦ä¸€é”®å¼€å¯ä¸‹è¡Œ500Mbpså—ï¼Ÿâš ï¸ä»…è¯•ç”¨æœŸè´¦å·æˆ–å‡çº§å·ï¼ˆä»˜è´¹ï¼‰æ‰å¯ä»¥å¼€å¯ï¼Œä¸”åªèƒ½æœ‰ä¸€å°å…è´¹AMDå®ä¾‹å¼€å¯","ä¸€é”®å¼€å¯ä¸‹è¡Œ500Mbpsæ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"})==="confirm"&&this.$axios.post("/oci/oneClick500M",{...this.oneClick500mParams}).then(m=>{m.data.success?(i({message:m.data.msg,type:"success",duration:2e3}),this.$router.push("/dashboard/ociLog")):i({message:m.data.msg,type:"error",duration:2e3})}).catch(m=>{console.error("Error:",m)})}catch(n){i({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3}),console.error("cancelError:",n)}},async onClickClose500M(){this.flushLoading=!0;try{this.close500mParams.ociCfgId=this.ociCfgId,this.close500mParams.instanceId=this.instanceId,await this.$axios.post("/oci/oneClickClose500M",{...this.close500mParams}).then(n=>{n.data.success?(i({message:n.data.msg,type:"success",duration:2e3}),this.$router.push("/dashboard/ociLog")):i({message:n.data.msg,type:"error",duration:2e3})}).catch(n=>{console.error("Error:",n)})}catch(n){i({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3}),console.error("cancelError:",n)}finally{this.flushLoading=!1,this.close500MDialog=!1}},async autoRescue(){try{let n="ç¡®å®šè¦å¼€å§‹æ•‘æ´/ç¼©å°ç¡¬ç›˜å—ï¼Ÿ âš ï¸ è¯·ç¡®ä¿åˆ é™¤æ‰åŸå¼•å¯¼å·åï¼Œè‡³å°‘è¿˜å‰©ä½™50GBå¼•å¯¼å·é¢åº¦ï¼è‡ªåŠ¨æ•‘æ´ä¸ä¸€å®šç™¾åˆ†ç™¾æˆåŠŸï¼Œå¦‚æœä¸­é€”å¤±è´¥ï¼Œè‡ªè¡Œç™»å½• Oracle Cloud å®˜æ–¹é¢æ¿ï¼Œå°†å¤‡ä»½å·æ¢å¤æˆå¼•å¯¼å·å¹¶é™„åŠ å›åŸå®ä¾‹ã€‚";this.keepBackupVolume&&(n+="ğŸ”” å½“å‰é€‰æ‹©äº†ä¿ç•™åŸå¼•å¯¼å·çš„å¤‡ä»½å·ï¼Œæ•‘æ´ç»“æŸåéœ€è¦è‡ªè¡Œåˆ é™¤å¤‡ä»½å·ï¼Œå¦åˆ™ä¼šæ°¸ä¹…ä¿ç•™ï¼Œä¸”å ç”¨å¤‡ä»½å·é¢åº¦ã€‚"),await y.confirm(n,"è‡ªåŠ¨æ•‘æ´/ç¼©å°ç¡¬ç›˜æ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"})==="confirm"&&this.$axios.post("/oci/autoRescue",{ociCfgId:this.ociCfgId,instanceId:this.instanceId,name:this.instanceCfg.instanceName,keepBackupVolume:this.keepBackupVolume}).then(m=>{m.data.success?(i({message:"è‡ªåŠ¨æ•‘æ´/ç¼©å°ç¡¬ç›˜ä»»åŠ¡å·²ä¸‹å‘ï¼Œå…·ä½“æµç¨‹è¯·æŸ¥çœ‹æ—¥å¿—",type:"success",duration:2e3}),this.$router.push("/dashboard/ociLog")):i({message:m.data.msg,type:"error",duration:2e3})}).catch(m=>{console.error("Error:",m)})}catch{i({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3})}},async modifyInstanceName(){try{await y.confirm("ç¡®å®šè¦ä¿®æ”¹å®ä¾‹åç§°å—ï¼Ÿ","ä¿®æ”¹å®ä¾‹åç§°æ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"})==="confirm"&&(this.nameLoading=!0,await this.$axios.post("/oci/updateInstanceName",{ociCfgId:this.ociCfgId,instanceId:this.instanceId,name:this.instanceCfg.instanceName}).then(e=>{e.data.success?(i({message:e.data.msg,type:"success",duration:2e3}),this.nameLoading=!1):i({message:e.data.msg,type:"error",duration:2e3})}).catch(e=>{console.error("Error:",e)}))}catch{i({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3})}},async modifyInstanceShape(){try{await y.confirm("ç¡®å®šè¦ä¿®æ”¹å®ä¾‹Shapeå—ï¼Ÿ","ä¿®æ”¹å®ä¾‹Shapeæ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"})==="confirm"&&(this.flushLoading=!0,await this.$axios.post("/oci/updateInstanceShape",{ociCfgId:this.ociCfgId,instanceId:this.instanceId,shape:this.instanceCfg.shape}).then(e=>{e.data.success?(i({message:e.data.msg,type:"success",duration:2e3}),this.getInstanceCfgInfo()):i({message:e.data.msg,type:"error",duration:2e3})}).catch(e=>{console.error("Error:",e)}))}catch{i({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3})}finally{this.flushLoading=!1}},async modifyCpuAndMemory(){try{await y.confirm("ä¿®æ”¹å®ä¾‹CPUå’Œå†…å­˜ä¼šé‡å¯å®ä¾‹ï¼Œç¡®å®šè¦ä¿®æ”¹å—ï¼Ÿ","ä¿®æ”¹å®ä¾‹CPUå’Œå†…å­˜æ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"})==="confirm"&&(this.cpuLoading=!0,await this.$axios.post("/oci/updateInstanceCfg",{ociCfgId:this.ociCfgId,instanceId:this.instanceId,ocpus:this.instanceCfg.ocpus,memory:this.instanceCfg.memory}).then(e=>{e.data.success?(i({message:e.data.msg,type:"success",duration:2e3}),this.cpuLoading=!1):i({message:e.data.msg,type:"error",duration:2e3})}).catch(e=>{console.error("Error:",e)}))}catch{i({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3})}},async modifyBootVolume(){try{await y.confirm("ç¡®å®šè¦ä¿®æ”¹å®ä¾‹å¼•å¯¼å·å—ï¼Ÿ","ä¿®æ”¹å®ä¾‹å¼•å¯¼å·æ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"})==="confirm"&&(this.bootVolumeLoading=!0,await this.$axios.post("/oci/updateBootVolumeCfg",{ociCfgId:this.ociCfgId,instanceId:this.instanceId,bootVolumeSize:this.instanceCfg.bootVolumeSize,bootVolumeVpu:this.instanceCfg.bootVolumeVpu}).then(e=>{e.data.success?(i({message:e.data.msg,type:"success",duration:2e3}),this.bootVolumeLoading=!1):i({message:e.data.msg,type:"error",duration:2e3})}).catch(e=>{console.error("Error:",e)}))}catch{i({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3})}},async createIpv6(){try{await y.confirm("ç¡®å®šè¦ä¸ºå®ä¾‹é™„åŠ  IPV6 å—ï¼Ÿ","é™„åŠ  IPV6 æ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"})==="confirm"&&(this.ipv6Loading=!0,await this.$axios.post("/oci/createIpv6",{ociCfgId:this.ociCfgId,instanceId:this.instanceId}).then(e=>{e.data.success?(i({message:e.data.msg,type:"success",duration:2e3}),this.ipv6Loading=!1):i({message:e.data.msg,type:"error",duration:2e3})}).catch(e=>{console.error("Error:",e)}).finally(()=>{this.getInstanceCfgInfo()}))}catch{i({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3})}}}},R={class:"instance-config-container"},S={class:"toolbar"},N={class:"title"},_={class:"dialog-options"};function D(n,e,m,G,s,f){const d=c("el-button"),h=c("el-text"),x=c("el-divider"),V=c("el-input"),r=c("el-col"),g=c("el-row"),p=c("el-card"),C=c("el-input-number"),I=c("el-checkbox"),b=c("el-tooltip"),v=c("el-slider"),B=c("el-dialog"),w=M("loading");return P((E(),T("div",R,[u("div",S,[t(d,{onClick:f.goBack},{default:o(()=>e[21]||(e[21]=[l("è¿”å›é…ç½®è¯¦æƒ…")])),_:1},8,["onClick"]),t(d,{onClick:f.getInstanceCfgInfo,loading:s.flushLoading},{default:o(()=>e[22]||(e[22]=[l("åˆ·æ–°é¡µé¢")])),_:1},8,["onClick","loading"]),u("span",N,[t(h,{type:"primary"},{default:o(()=>[l("é…ç½®ï¼š"+k(this.username)+" â€”â€” ç¼–è¾‘å®ä¾‹é…ç½®",1)]),_:1})])]),t(x,{class:"divider"}),t(g,{gutter:20,type:"flex",align:"stretch"},{default:o(()=>[t(r,{span:12},{default:o(()=>[t(p,{class:"config-card"},{default:o(()=>[e[24]||(e[24]=u("div",{class:"card-title"},"ä¿®æ”¹å®ä¾‹åç§°",-1)),t(g,{gutter:20,style:{"margin-top":"10px"}},{default:o(()=>[t(r,{span:16},{default:o(()=>[t(V,{modelValue:s.instanceCfg.instanceName,"onUpdate:modelValue":e[0]||(e[0]=a=>s.instanceCfg.instanceName=a),clearable:"",placeholder:"è¯·è¾“å…¥å®ä¾‹åç§°"},null,8,["modelValue"])]),_:1}),t(r,{span:8},{default:o(()=>[t(d,{type:"primary",onClick:e[1]||(e[1]=a=>f.modifyInstanceName()),loading:s.nameLoading,block:""},{default:o(()=>e[23]||(e[23]=[l("ä¿®æ”¹å®ä¾‹åç§°")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),t(p,{class:"config-card"},{default:o(()=>[e[28]||(e[28]=u("div",{class:"card-title"},"ä¿®æ”¹CPUå’Œå†…å­˜",-1)),t(g,{gutter:20,align:"middle",style:{"margin-top":"10px"}},{default:o(()=>[t(r,{span:8},{default:o(()=>[t(C,{modelValue:s.instanceCfg.ocpus,"onUpdate:modelValue":e[2]||(e[2]=a=>s.instanceCfg.ocpus=a),min:1},null,8,["modelValue"]),e[25]||(e[25]=l(" æ ¸ "))]),_:1}),t(r,{span:8},{default:o(()=>[t(C,{modelValue:s.instanceCfg.memory,"onUpdate:modelValue":e[3]||(e[3]=a=>s.instanceCfg.memory=a),min:1},null,8,["modelValue"]),e[26]||(e[26]=l(" GB "))]),_:1}),t(r,{span:8},{default:o(()=>[t(d,{type:"primary",onClick:e[4]||(e[4]=a=>f.modifyCpuAndMemory()),loading:s.cpuLoading,block:""},{default:o(()=>e[27]||(e[27]=[l("ä¿®æ”¹CPUå’Œå†…å­˜")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),t(p,{class:"config-card"},{default:o(()=>[e[31]||(e[31]=u("div",{class:"card-title"},"è‡ªåŠ¨æ•‘æ´/ç¼©å°ç¡¬ç›˜ï¼ˆé»˜è®¤47GBï¼‰",-1)),t(g,{gutter:20,align:"middle",style:{"margin-top":"10px"}},{default:o(()=>[t(r,{span:16},{default:o(()=>[t(b,{content:"ä¸å ç”¨å¼•å¯¼å·é¢åº¦ï¼Œç”¨äºæ•‘æ´å¤±è´¥åæ¢å¤",placement:"bottom"},{default:o(()=>[t(I,{modelValue:s.keepBackupVolume,"onUpdate:modelValue":e[5]||(e[5]=a=>s.keepBackupVolume=a)},{default:o(()=>e[29]||(e[29]=[l("ä¿ç•™åŸå¼•å¯¼å·çš„å¤‡ä»½å·")])),_:1},8,["modelValue"])]),_:1})]),_:1}),t(r,{span:8},{default:o(()=>[t(d,{type:"primary",onClick:e[6]||(e[6]=a=>f.autoRescue()),block:""},{default:o(()=>e[30]||(e[30]=[l("å¼€å§‹æ•‘æ´/ç¼©å°ç¡¬ç›˜")])),_:1})]),_:1})]),_:1})]),_:1}),t(p,{class:"config-card"},{default:o(()=>[e[33]||(e[33]=u("div",{class:"card-title"},"ä¿®æ”¹å®ä¾‹Shape",-1)),t(g,{gutter:20,style:{"margin-top":"10px"}},{default:o(()=>[t(r,{span:16},{default:o(()=>[t(V,{modelValue:s.instanceCfg.shape,"onUpdate:modelValue":e[7]||(e[7]=a=>s.instanceCfg.shape=a),clearable:"",placeholder:"è¯·è¾“å…¥å®ä¾‹Shapeï¼Œä¾‹ï¼šVM.Standard.A1.Flex"},null,8,["modelValue"])]),_:1}),t(r,{span:8},{default:o(()=>[t(d,{type:"primary",onClick:e[8]||(e[8]=a=>f.modifyInstanceShape()),block:""},{default:o(()=>e[32]||(e[32]=[l(" ä¿®æ”¹å®ä¾‹Shape ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(r,{span:12},{default:o(()=>[t(p,{class:"config-card"},{default:o(()=>[e[36]||(e[36]=u("div",{class:"card-title"},"ä¿®æ”¹å¼•å¯¼å·å¤§å°åŠVPU",-1)),t(g,{gutter:20,align:"middle",style:{"margin-top":"10px"}},{default:o(()=>[t(r,{span:8},{default:o(()=>[t(C,{modelValue:s.instanceCfg.bootVolumeSize,"onUpdate:modelValue":e[9]||(e[9]=a=>s.instanceCfg.bootVolumeSize=a),min:50},null,8,["modelValue"]),e[34]||(e[34]=l(" GB "))]),_:1}),t(r,{span:8},{default:o(()=>[t(v,{modelValue:s.instanceCfg.bootVolumeVpu,"onUpdate:modelValue":e[10]||(e[10]=a=>s.instanceCfg.bootVolumeVpu=a),min:10,max:120,step:10,"show-tooltip":""},null,8,["modelValue"]),u("span",null,"VPU: "+k(s.instanceCfg.bootVolumeVpu),1)]),_:1}),t(r,{span:8},{default:o(()=>[t(d,{type:"primary",onClick:e[11]||(e[11]=a=>f.modifyBootVolume()),loading:s.bootVolumeLoading,block:""},{default:o(()=>e[35]||(e[35]=[l("ä¿®æ”¹å¼•å¯¼å·")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1}),t(p,{class:"config-card"},{default:o(()=>[e[38]||(e[38]=u("div",{class:"card-title"},"å®ä¾‹IPV6åœ°å€",-1)),t(g,{gutter:20,align:"middle",style:{"margin-top":"10px"}},{default:o(()=>[t(r,{span:16},{default:o(()=>[t(V,{modelValue:s.instanceCfg.ipv6,"onUpdate:modelValue":e[12]||(e[12]=a=>s.instanceCfg.ipv6=a),disabled:""},null,8,["modelValue"])]),_:1}),t(r,{span:8},{default:o(()=>[t(d,{type:"primary",onClick:e[13]||(e[13]=a=>f.createIpv6()),disabled:!!s.instanceCfg.ipv6,loading:s.ipv6Loading,block:""},{default:o(()=>e[37]||(e[37]=[l("é™„åŠ IPV6")])),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1}),t(p,{class:"config-card"},{default:o(()=>[e[42]||(e[42]=u("div",{class:"card-title"},"ä¸€é”®å¼€å¯/å…³é—­ä¸‹è¡Œ500Mbps",-1)),t(g,{gutter:20,align:"middle",style:{"margin-top":"10px"}},{default:o(()=>[t(r,{span:12},{default:o(()=>[e[39]||(e[39]=l(" SSHç«¯å£ï¼š ")),t(C,{modelValue:s.oneClick500mParams.sshPort,"onUpdate:modelValue":e[14]||(e[14]=a=>s.oneClick500mParams.sshPort=a)},null,8,["modelValue"])]),_:1}),t(r,{span:12},{default:o(()=>[t(d,{type:"primary",onClick:e[15]||(e[15]=a=>this.oneClick500M()),block:""},{default:o(()=>e[40]||(e[40]=[l(" ä¸€é”®å¼€å¯500Mbps ")])),_:1}),t(d,{type:"danger",onClick:e[16]||(e[16]=a=>s.close500MDialog=!0),block:""},{default:o(()=>e[41]||(e[41]=[l(" å…³é—­500Mbps ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(B,{title:"æç¤º",modelValue:s.close500MDialog,"onUpdate:modelValue":e[20]||(e[20]=a=>s.close500MDialog=a),width:"400px"},{footer:o(()=>[t(d,{onClick:e[19]||(e[19]=a=>s.close500MDialog=!1)},{default:o(()=>e[45]||(e[45]=[l("å–æ¶ˆ")])),_:1}),t(d,{type:"primary",onClick:f.onClickClose500M},{default:o(()=>e[46]||(e[46]=[l("ç¡®å®š")])),_:1},8,["onClick"])]),default:o(()=>[e[47]||(e[47]=u("div",{class:"dialog-text"},"ç¡®å®šè¦å…³é—­ä¸‹è¡Œ500Mbpså—ï¼Ÿ",-1)),u("div",_,[t(I,{modelValue:s.close500mParams.retainBl,"onUpdate:modelValue":e[17]||(e[17]=a=>s.close500mParams.retainBl=a)},{default:o(()=>e[43]||(e[43]=[l("ä¿ç•™ç½‘ç»œè´Ÿè½½å¹³è¡¡å™¨")])),_:1},8,["modelValue"]),t(I,{modelValue:s.close500mParams.retainNatGw,"onUpdate:modelValue":e[18]||(e[18]=a=>s.close500mParams.retainNatGw=a)},{default:o(()=>e[44]||(e[44]=[l("ä¿ç•™NATç½‘å…³")])),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])),[[w,s.flushLoading]])}const z=L(U,[["render",D],["__scopeId","data-v-6c307581"]]);export{z as default};
