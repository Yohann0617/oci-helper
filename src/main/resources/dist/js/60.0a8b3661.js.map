{"version":3,"file":"js/60.0a8b3661.js","mappings":"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","sources":["webpack://oci-help-web/./src/components/task/OciCreateTask.vue","webpack://oci-help-web/./src/components/task/OciCreateTask.vue?f34b"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-button type=\"success\"\r\n               style=\"margin-bottom: 20px;\"\r\n               @click=\"createTaskPage\">\r\n      刷新\r\n    </el-button>\r\n\r\n    <el-input\r\n        v-model=\"createTaskPageParams.keyword\"\r\n        placeholder=\"模糊搜索配置名称/区域\"\r\n        @input=\"createTaskPage\"\r\n        clearable prefix-icon=\"Search\"\r\n        style=\"margin-left: 20px; width: 200px; margin-bottom: 20px;\"\r\n    />\r\n\r\n    <el-select\r\n        v-model=\"createTaskPageParams.architecture\"\r\n        @change=\"createTaskPage\"\r\n        placeholder=\"系统架构筛选\"\r\n        style=\"margin-left: 20px; width: 180px; margin-bottom: 20px;\"\r\n    >\r\n      <el-option label=\"全部\" :value=\"null\"></el-option>\r\n      <el-option label=\"ARM\" :value=\"'ARM'\"></el-option>\r\n      <el-option label=\"AMD\" :value=\"'AMD'\"></el-option>\r\n    </el-select>\r\n\r\n    <el-button\r\n        type=\"danger\"\r\n        @click=\"handleStopCreateBatch\"\r\n        :disabled=\"!stopCreateBatchIds.length\"\r\n        style=\"margin-left: 20px; margin-bottom: 20px;\"\r\n    >\r\n      批量停止\r\n    </el-button>\r\n\r\n    <!-- 可滑动的表格 -->\r\n    <div style=\"overflow-x: auto;\">\r\n      <el-table\r\n          :data=\"createTaskRsp\"\r\n          style=\"width: 100%; min-width: 800px;\"\r\n          v-loading=\"loading\"\r\n          @selection-change=\"handleSelectionChange\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"35\"/>\r\n        <el-table-column label=\"名称\">\r\n          <template #default=\"{ row }\">\r\n            <el-tooltip :content=\"row.username\" placement=\"top\">\r\n              {{ row.username }}\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"区域\">\r\n          <template #default=\"{ row }\">\r\n            <el-tooltip :content=\"row.region\" placement=\"top\">\r\n              <el-tag type=\"primary\">\r\n                {{ row.region }}\r\n              </el-tag>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"ocpus\" label=\"CPU（核数）\"/>\r\n        <el-table-column prop=\"memory\" label=\"内存（GB）\"/>\r\n        <el-table-column prop=\"disk\" label=\"硬盘（GB）\"/>\r\n        <el-table-column prop=\"operationSystem\" label=\"操作系统\"/>\r\n        <el-table-column label=\"系统架构\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag :type=\"row.architecture === 'ARM' ? 'success':'info'\">\r\n              {{ row.architecture }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"interval\" label=\"间隔（秒）\"/>\r\n        <el-table-column label=\"数量\">\r\n          <template #default=\"{ row }\">\r\n            <el-tag type=\"primary\">\r\n              {{ row.createNumbers }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"次数\" sortable>\r\n          <template #default=\"{ row }\">\r\n            <el-tag type=\"warning\">\r\n              {{ row.counts }}\r\n            </el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column sortable prop=\"createTime\" label=\"创建时间\">\r\n          <template #default=\"{ row }\">\r\n            <el-tooltip :content=\"row.createTime\" placement=\"top\">\r\n              <el-tag type=\"info\">\r\n                {{ row.createTime }}\r\n              </el-tag>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 缩小的操作列 -->\r\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"100\">\r\n          <template #default=\"{ row }\">\r\n            <el-button @click=\"handleStopTask(row)\" type=\"danger\" link>停止</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n\r\n    <!-- 分页控制 -->\r\n    <el-pagination\r\n        @current-change=\"handlePageChange\"\r\n        @size-change=\"handleSizeChange\"\r\n        v-model:current-page=\"createTaskPageParams.currentPage\"\r\n        v-model:page-size=\"createTaskPageParams.pageSize\"\r\n        :page-sizes=\"[5, 10, 20, 50]\"\r\n        :total=\"total\"\r\n        layout=\"total, sizes, prev, pager, next, jumper\"\r\n        style=\"margin-top: 20px;\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {ElTable, ElTableColumn, ElPagination, ElInput, ElButton, ElMessage} from 'element-plus';\r\n\r\nexport default {\r\n  components: {\r\n    ElTable, ElTableColumn, ElPagination, ElInput, ElButton\r\n  },\r\n  data() {\r\n    return {\r\n      createTaskPageParams: {\r\n        keyword: '',\r\n        currentPage: 1,\r\n        pageSize: 5,\r\n        architecture: ''\r\n      },\r\n      createTaskRsp: [],\r\n      selectedTasks: [],\r\n      total: 0,\r\n      stopCreateBatchIds: [],\r\n      loading: true,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.createTaskPage();\r\n  },\r\n  methods: {\r\n    handlePageChange(page) {\r\n      this.createTaskPageParams.currentPage = page;\r\n      this.createTaskPage();\r\n    },\r\n    handleSizeChange(size) {\r\n      this.createTaskPageParams.currentPage = 1;\r\n      this.createTaskPageParams.pageSize = size;\r\n      this.createTaskPage();\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.stopCreateBatchIds = val;\r\n    },\r\n    createTaskPage() {\r\n      this.loading = true;\r\n      this.$axios.post('/oci/createTaskPage', {...this.createTaskPageParams})\r\n          .then(response => {\r\n            this.createTaskRsp = response.data.data.records;\r\n            this.total = response.data.data.total;\r\n          })\r\n          .catch(error => {\r\n            console.error('Error:', error)\r\n          })\r\n      this.loading = false;\r\n    },\r\n    handleStopTask(row) {\r\n      const confirmed = window.confirm('确定要停止 ' + row.username + ' 的这个开机任务吗?');\r\n      if (confirmed) {\r\n        this.selectedTasks.push(row.id)\r\n        this.$axios.post('/oci/stopCreateBatch', {idList: this.selectedTasks})\r\n            .then(response => {\r\n              if (response.data.success) {\r\n                ElMessage({\r\n                  message: response.data.msg,\r\n                  type: 'success',\r\n                  duration: 2000 // 设置提示显示时间，单位是毫秒\r\n                });\r\n              } else {\r\n                ElMessage({\r\n                  message: response.data.msg,\r\n                  type: 'error',\r\n                  duration: 2000 // 设置提示显示时间，单位是毫秒\r\n                });\r\n              }\r\n              this.createTaskPage();\r\n            })\r\n            .catch(error => {\r\n              console.error('Error:', error)\r\n            })\r\n            .finally(() => {\r\n              this.selectedTasks = []\r\n            })\r\n      } else {\r\n        this.$message.info('已取消');\r\n      }\r\n    },\r\n    handleStopCreateBatch() {\r\n      const confirmed = window.confirm('确定要停止这些开机任务吗');\r\n      if (confirmed) {\r\n        this.stopCreateBatch();\r\n      } else {\r\n        this.$message.info('已取消');\r\n      }\r\n    },\r\n    stopCreateBatch() {\r\n      const ids = this.stopCreateBatchIds.map(record => record.id);\r\n      this.$axios.post('/oci/stopCreateBatch', {idList: ids})\r\n          .then(response => {\r\n            if (response.data.success) {\r\n              ElMessage({\r\n                message: response.data.msg,\r\n                type: 'success',\r\n                duration: 2000 // 设置提示显示时间，单位是毫秒\r\n              });\r\n            } else {\r\n              ElMessage({\r\n                message: response.data.msg,\r\n                type: 'error',\r\n                duration: 2000 // 设置提示显示时间，单位是毫秒\r\n              });\r\n            }\r\n            this.createTaskPage();\r\n          })\r\n          .catch(error => {\r\n            console.error('Error:', error)\r\n          })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./OciCreateTask.vue?vue&type=template&id=3d2d8a0a\"\nimport script from \"./OciCreateTask.vue?vue&type=script&lang=js\"\nexport * from \"./OciCreateTask.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["style","_createElementBlock","_createVNode","_component_el_button","type","onClick","$options","createTaskPage","default","_withCtx","_cache","_createTextVNode","_","_component_el_input","modelValue","$data","createTaskPageParams","keyword","$event","placeholder","onInput","clearable","_component_el_select","architecture","onChange","_component_el_option","label","value","handleStopCreateBatch","disabled","stopCreateBatchIds","length","_createElementVNode","_hoisted_1","_createBlock","_component_el_table","data","createTaskRsp","onSelectionChange","handleSelectionChange","_component_el_table_column","width","row","_component_el_tooltip","content","username","placement","_toDisplayString","region","_component_el_tag","prop","createNumbers","sortable","counts","createTime","fixed","handleStopTask","link","loading","_component_el_pagination","onCurrentChange","handlePageChange","onSizeChange","handleSizeChange","currentPage","pageSize","total","layout","components","ElTable","ElTableColumn","ElPagination","ElInput","ElButton","selectedTasks","mounted","this","methods","page","size","val","$axios","post","then","response","records","catch","error","console","confirmed","window","confirm","push","id","idList","success","ElMessage","message","msg","duration","finally","$message","info","stopCreateBatch","ids","map","record","__exports__","render"],"sourceRoot":""}