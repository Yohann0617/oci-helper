import{h as P,c as p,a,b as n,F as f,j as h,n as c,w as l,r as m,k as u,o as g,t as b,l as I,m as w,p as E,q as T,s as M}from"./chunk-vendors.YhVR2Zm-.js";import{_ as z}from"./index.BIFCcWVS.js";const B={components:{DocumentCopy:P},mounted(){this.getEnableMfa(),this.isDarkMode=localStorage.getItem("theme")==="dark"},computed:{themeText(){return this.isDarkMode?"å¼€ç¯ğŸ’¡":"å…³ç¯ğŸŒ™"}},data(){return{loginParams:{account:"",password:"",mfaCode:null},loading:!1,enableMfa:!1,isDarkMode:localStorage.getItem("theme")==="dark"}},methods:{async pasteFromClipboard(){try{if(navigator.clipboard&&navigator.clipboard.readText){const t=await navigator.clipboard.readText();t&&(this.loginParams.mfaCode=t.trim(),u({message:"éªŒè¯ç å·²ç²˜è´´",type:"success",duration:1500}))}}catch{u({message:"ç²˜è´´å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨è¾“å…¥",type:"warning",duration:2e3})}},getGridLineStyle(t,e){const i=t*10+"%",d=Math.random()*3;return e?{top:i,animationDelay:`${d}s`}:{left:i,animationDelay:`${d}s`}},getStarStyle(t){const e=Math.random()*3+1,i=Math.random()*3+2,d=Math.random()*5;return{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,width:`${e}px`,height:`${e}px`,animationDelay:`${d}s`,animationDuration:`${i}s`}},getShapeStyle(t){const e=t*2,i=15+t*3,d=Math.random()*100,r=Math.random()*100;return{left:`${d}%`,top:`${r}%`,animationDelay:`${e}s`,animationDuration:`${i}s`}},getCodeColumnStyle(t){const e=t*6.67+"%",i=10+Math.random()*5,d=Math.random()*8;return{left:e,animationDelay:`${d}s`,animationDuration:`${i}s`}},getRandomChar(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789<>{}[]()@#$%&*";return t[Math.floor(Math.random()*t.length)]},toggleTheme(){const t=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",t?"dark":"light"),this.isDarkMode=t},getEnableMfa(){this.$axios.post("/sys/getEnableMfa",{}).then(t=>{t.data.success?this.enableMfa=t.data.data:u({message:t.data.msg,type:"error",duration:2e3})}).catch(t=>{console.error("Error:",t)})},async login(){if(this.loginParams.account==="yohann"&&this.loginParams.password==="yohann"){u({message:"è¯¥è´¦å·ä¸ºé»˜è®¤è´¦å·ï¼Œè¯·ä¿®æ”¹å¹¶é‡å¯åå†å°è¯•ç™»å½•",type:"error",duration:2e3});return}this.loading=!0;try{const t=await this.$axios.post("/sys/login",{...this.loginParams});if(t.data.success){u({message:t.data.msg,type:"success",duration:2e3});let e=t.data.data;sessionStorage.setItem("token",e.token),localStorage.setItem("currentVersion",e.currentVersion),localStorage.setItem("latestVersion",e.latestVersion),setTimeout(()=>{this.$router.push("/dashboard")},1e3)}else u({message:t.data.msg,type:"error",duration:2e3}),this.loading=!1}catch(t){console.error("Error:",t),u({message:"ç™»å½•å¤±è´¥ï¼Œè¯·é‡è¯•",type:"error",duration:2e3}),this.loading=!1}}}},F={class:"login-container"},Q={class:"background"},R={class:"grid-lines"},A={class:"stars-container"},N={class:"floating-shapes"},U={class:"code-rain"};function G(t,e,i,d,r,s){const _=m("el-input"),y=m("el-form-item"),v=m("DocumentCopy"),C=m("el-icon"),k=m("el-button"),S=m("el-form"),x=m("el-card"),L=m("el-link"),D=m("el-footer");return g(),p("div",F,[a("div",Q,[a("div",R,[(g(),p(f,null,h(10,o=>a("div",{class:"grid-line horizontal",key:"h-"+o,style:c(s.getGridLineStyle(o,!0))},null,4)),64)),(g(),p(f,null,h(10,o=>a("div",{class:"grid-line vertical",key:"v-"+o,style:c(s.getGridLineStyle(o,!1))},null,4)),64))]),a("div",A,[(g(),p(f,null,h(50,o=>a("div",{class:"star",key:"star-"+o,style:c(s.getStarStyle(o))},null,4)),64))]),e[3]||(e[3]=a("div",{class:"scan-line"},null,-1)),e[4]||(e[4]=a("div",{class:"glow glow-1"},null,-1)),e[5]||(e[5]=a("div",{class:"glow glow-2"},null,-1)),a("div",N,[a("div",{class:"shape hexagon",style:c(s.getShapeStyle(1))},null,4),a("div",{class:"shape circle",style:c(s.getShapeStyle(2))},null,4),a("div",{class:"shape square",style:c(s.getShapeStyle(3))},null,4)]),a("div",U,[(g(),p(f,null,h(15,o=>a("div",{class:"code-column",key:"code-"+o,style:c(s.getCodeColumnStyle(o))},[(g(),p(f,null,h(20,V=>a("span",{key:V},b(s.getRandomChar()),1)),64))],4)),64))])]),n(x,{class:"login-card"},{default:l(()=>[e[10]||(e[10]=a("div",{class:"oracle-logo"},[a("svg",{viewBox:"0 0 397 57",xmlns:"http://www.w3.org/2000/svg"},[a("g",{fill:"#C74634"},[a("ellipse",{cx:"28.5",cy:"28.5",rx:"26",ry:"19",fill:"none",stroke:"#C74634","stroke-width":"5"}),a("path",{d:"M70 10 L70 47 M70 10 L90 10 Q98 10 98 18 Q98 25 90 25 L70 25 M90 25 L98 47"}),a("path",{d:"M110 47 L120 10 L130 47 M113 32 L127 32"}),a("path",{d:"M160 18 Q150 10 140 18 Q135 28.5 140 39 Q150 47 160 39"}),a("path",{d:"M175 10 L175 47 L190 47"}),a("path",{d:"M205 10 L235 10 M205 10 L205 47 M205 28.5 L230 28.5 M205 47 L235 47"})]),a("text",{x:"250",y:"40","font-family":"Arial, sans-serif","font-size":"28","font-weight":"600",fill:"#312D2A"},"Cloud")])],-1)),e[11]||(e[11]=a("h2",{class:"login-title"},"OCI Helper",-1)),e[12]||(e[12]=a("p",{class:"login-subtitle"},"Oracle Cloud Infrastructure Management",-1)),n(S,{onSubmit:w(s.login,["prevent"]),onKeydown:I(w(s.login,["prevent"]),["enter"])},{default:l(()=>[n(y,{label:"","label-width":"0%"},{default:l(()=>[n(_,{modelValue:r.loginParams.account,"onUpdate:modelValue":e[0]||(e[0]=o=>r.loginParams.account=o),placeholder:"è´¦å·",clearable:"",size:"large"},{prefix:l(()=>e[6]||(e[6]=[a("i",{class:"el-icon-user"},null,-1)])),_:1},8,["modelValue"])]),_:1}),n(y,{label:"","label-width":"0%"},{default:l(()=>[n(_,{"show-password":"",modelValue:r.loginParams.password,"onUpdate:modelValue":e[1]||(e[1]=o=>r.loginParams.password=o),placeholder:"å¯†ç ",type:"password",clearable:"",size:"large"},{prefix:l(()=>e[7]||(e[7]=[a("i",{class:"el-icon-lock"},null,-1)])),_:1},8,["modelValue"])]),_:1}),r.enableMfa?(g(),E(y,{key:0},{default:l(()=>[n(_,{"show-password":"",modelValue:r.loginParams.mfaCode,"onUpdate:modelValue":e[2]||(e[2]=o=>r.loginParams.mfaCode=o),placeholder:"MFAéªŒè¯ç ",clearable:"",size:"large"},{prefix:l(()=>e[8]||(e[8]=[a("i",{class:"el-icon-mobile-phone"},null,-1)])),suffix:l(()=>[n(C,{onClick:s.pasteFromClipboard,class:"paste-icon",title:"ç²˜è´´éªŒè¯ç "},{default:l(()=>[n(v)]),_:1},8,["onClick"])]),_:1},8,["modelValue"])]),_:1})):T("",!0),n(y,{style:{"text-align":"center"},class:"login-button-container"},{default:l(()=>[n(k,{type:"primary",onClick:s.login,loading:r.loading,class:"login-button",size:"large"},{default:l(()=>e[9]||(e[9]=[M("Sign In")])),_:1},8,["onClick","loading"])]),_:1})]),_:1},8,["onSubmit","onKeydown"])]),_:1}),n(D,{class:"login-footer"},{default:l(()=>[n(L,{href:"https://github.com/Yohann0617",target:"_blank"},{default:l(()=>e[13]||(e[13]=[M("Â© Yohann All Rights Reserved")])),_:1}),n(k,{onClick:s.toggleTheme,class:"theme-button",link:""},{default:l(()=>[M(b(s.themeText),1)]),_:1},8,["onClick"])]),_:1})])}const O=z(B,[["render",G],["__scopeId","data-v-5386b241"]]);export{O as default};
