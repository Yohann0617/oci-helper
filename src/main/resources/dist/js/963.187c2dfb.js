"use strict";(self["webpackChunkoci_help_web"]=self["webpackChunkoci_help_web"]||[]).push([[640,963],{77346:function(e,a,t){t.d(a,{Z:function(){return i},l:function(){return n}});var l=t(12933);async function i(e,a="æç¤º",t="warning"){try{const i=await l.s.confirm(e,a,{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:t});return"confirm"===i}catch(i){return!1}}function n(e){navigator.clipboard.writeText(e).then((()=>{this.$message.success("å¤åˆ¶æˆåŠŸï¼å†…å®¹ï¼š"+e)})).catch((()=>{const a=document.createElement("textarea");a.value=e,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),this.$message.success("å¤åˆ¶æˆåŠŸï¼å†…å®¹ï¼š"+e)}))}},60963:function(e,a,t){t.r(a),t.d(a,{default:function(){return we}});var l=t(56768);const i={class:"tab-content"},n={key:0},s={key:1},o={key:2},d={key:3},u={key:4};function r(e,a,t,r,c,p){const g=(0,l.g2)("Avatar"),m=(0,l.g2)("el-icon"),b=(0,l.g2)("el-tab-pane"),h=(0,l.g2)("Cpu"),f=(0,l.g2)("Box"),k=(0,l.g2)("Platform"),y=(0,l.g2)("DataAnalysis"),v=(0,l.g2)("OciTenant"),C=(0,l.g2)("OciInstanceInfo"),I=(0,l.g2)("BootVolumeList"),P=(0,l.g2)("VcnList"),V=(0,l.g2)("TrafficStatistics"),F=(0,l.g2)("el-tabs");return(0,l.uX)(),(0,l.Wv)(F,{type:"border-card",class:"demo-tabs",modelValue:c.activeTab,"onUpdate:modelValue":a[0]||(a[0]=e=>c.activeTab=e)},{default:(0,l.k6)((()=>[(0,l.bF)(b,{label:"OciTenant",name:"OciTenant"},{label:(0,l.k6)((()=>[(0,l.Lk)("span",null,[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(g)])),_:1}),a[1]||(a[1]=(0,l.Lk)("span",{style:{"margin-left":"5px"}},"ç§Ÿæˆ·è¯¦æƒ…",-1))])])),_:1}),(0,l.bF)(b,{label:"OciInstanceInfo",name:"OciInstanceInfo"},{label:(0,l.k6)((()=>[(0,l.Lk)("span",null,[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(h)])),_:1}),a[2]||(a[2]=(0,l.Lk)("span",{style:{"margin-left":"5px"}},"å®ä¾‹è¯¦æƒ…",-1))])])),_:1}),(0,l.bF)(b,{label:"BootVolumeList",name:"BootVolumeList"},{label:(0,l.k6)((()=>[(0,l.Lk)("span",null,[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(f)])),_:1}),a[3]||(a[3]=(0,l.Lk)("span",{style:{"margin-left":"5px"}},"å¼•å¯¼å·åˆ—è¡¨",-1))])])),_:1}),(0,l.bF)(b,{label:"VcnList",name:"VcnList"},{label:(0,l.k6)((()=>[(0,l.Lk)("span",null,[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(k)])),_:1}),a[4]||(a[4]=(0,l.Lk)("span",{style:{"margin-left":"5px"}},"è™šæ‹Ÿäº‘ç½‘ç»œ",-1))])])),_:1}),(0,l.bF)(b,{label:"Traffic",name:"Traffic"},{label:(0,l.k6)((()=>[(0,l.Lk)("span",null,[(0,l.bF)(m,null,{default:(0,l.k6)((()=>[(0,l.bF)(y)])),_:1}),a[5]||(a[5]=(0,l.Lk)("span",{style:{"margin-left":"5px"}},"æµé‡ç»Ÿè®¡",-1))])])),_:1}),(0,l.Lk)("div",i,["OciTenant"===c.activeTab?((0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(v,{ociCfgId:c.cfgId,username:c.username},null,8,["ociCfgId","username"])])):(0,l.Q3)("",!0),"OciInstanceInfo"===c.activeTab?((0,l.uX)(),(0,l.CE)("div",s,[(0,l.bF)(C,{"cfg-id":c.cfgId,username:c.username},null,8,["cfg-id","username"])])):(0,l.Q3)("",!0),"BootVolumeList"===c.activeTab?((0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(I,{"cfg-id":c.cfgId,username:c.username},null,8,["cfg-id","username"])])):(0,l.Q3)("",!0),"VcnList"===c.activeTab?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.bF)(P,{"cfg-id":c.cfgId,username:c.username},null,8,["cfg-id","username"])])):(0,l.Q3)("",!0),"Traffic"===c.activeTab?((0,l.uX)(),(0,l.CE)("div",u,[(0,l.bF)(V,{ociCfgId:c.cfgId,username:c.username},null,8,["ociCfgId","username"])])):(0,l.Q3)("",!0)])])),_:1},8,["modelValue"])}var c=t(24232),p=t(45130);const g={style:{display:"flex","justify-content":"flex-start","align-items":"center","margin-bottom":"20px"}},m={style:{"font-size":"16px","font-weight":"bold","margin-left":"20px"}},b={class:"instance-list"},h={class:"header"},f={style:{"line-height":"1"}},k={style:{display:"flex","align-items":"center",margin:"10px"}},y={style:{display:"flex","align-items":"center",margin:"10px"}},v={style:{display:"flex","align-items":"center",margin:"10px"}},C={style:{display:"flex","align-items":"center",margin:"10px"}},I={style:{display:"flex","flex-wrap":"wrap",gap:"10px"}},P={style:{display:"flex","align-items":"center",margin:"10px"}},V={style:{display:"flex","align-items":"center",margin:"10px"}},F={style:{display:"flex","align-items":"center",margin:"10px"}},_={class:"demo-collapse"},L={style:{"margin-left":"20px"}},x={style:{"margin-left":"20px"}},w={style:{"margin-left":"20px"}},R={style:{"margin-left":"20px"}},S={style:{"margin-left":"20px"}},U={style:{display:"flex","flex-wrap":"wrap",gap:"4px"}},T={style:{"margin-top":"8px"}};function D(e,a,t,i,n,s){const o=(0,l.g2)("el-button"),d=(0,l.g2)("el-divider"),u=(0,l.g2)("cpu"),r=(0,l.g2)("el-icon"),D=(0,l.g2)("el-tag"),E=(0,l.g2)("el-tooltip"),W=(0,l.g2)("el-button-group"),B=(0,l.g2)("info-filled"),N=(0,l.g2)("el-text"),O=(0,l.g2)("el-collapse-item"),$=(0,l.g2)("el-table-column"),A=(0,l.g2)("el-table"),X=(0,l.g2)("el-collapse"),z=(0,l.g2)("el-option"),G=(0,l.g2)("el-select"),M=(0,l.g2)("el-form-item"),K=(0,l.g2)("el-input"),Q=(0,l.g2)("el-switch"),q=(0,l.g2)("el-input-number"),j=(0,l.g2)("el-form"),H=(0,l.g2)("el-dialog"),Z=(0,l.g2)("el-checkbox"),J=(0,l.g2)("el-col"),Y=(0,l.g2)("el-row");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",g,[(0,l.Lk)("div",null,[(0,l.bF)(o,{onClick:s.goBack},{default:(0,l.k6)((()=>a[14]||(a[14]=[(0,l.eW)("è¿”å›é…ç½®åˆ—è¡¨")]))),_:1},8,["onClick"]),(0,l.bF)(o,{onClick:s.reLaunchDetails,loading:n.flushLoading,style:{"margin-left":"10px"}},{default:(0,l.k6)((()=>a[15]||(a[15]=[(0,l.eW)("åˆ·æ–°ç¼“å­˜")]))),_:1},8,["onClick","loading"])]),(0,l.Lk)("span",m,"å½“å‰é…ç½®ï¼š"+(0,c.v_)(this.user.username),1)]),(0,l.bF)(d,{class:"divider"}),(0,l.Lk)("div",b,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.ociCfgDetails.instanceList,(e=>((0,l.uX)(),(0,l.CE)("div",{key:e.ocId,class:"instance-card"},[(0,l.Lk)("div",h,[(0,l.bF)(r,{class:"server-icon"},{default:(0,l.k6)((()=>[(0,l.bF)(u)])),_:1}),(0,l.Lk)("h3",null,(0,c.v_)(e.name),1)]),(0,l.bF)(d,{class:"divider"}),(0,l.Lk)("div",f,[(0,l.Lk)("p",k,[a[16]||(a[16]=(0,l.Lk)("strong",{style:{"min-width":"100px"}},"Region",-1)),(0,l.bF)(D,null,{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.region),1)])),_:2},1024)]),(0,l.Lk)("p",y,[a[17]||(a[17]=(0,l.Lk)("strong",{style:{"min-width":"100px"}},"çŠ¶æ€",-1)),(0,l.bF)(D,{type:-1!==e.state.indexOf("RUNNING")?"success":"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.state),1)])),_:2},1032,["type"])]),(0,l.Lk)("p",v,[a[18]||(a[18]=(0,l.Lk)("strong",{style:{"min-width":"100px"}},"Shape",-1)),(0,l.bF)(D,{type:-1!==e.shape.indexOf("A1")?"success":"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.shape),1)])),_:2},1032,["type"])]),(0,l.Lk)("div",C,[a[19]||(a[19]=(0,l.Lk)("strong",{style:{"min-width":"100px"}},"å…¬ç½‘IP",-1)),(0,l.Lk)("div",I,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.publicIp,((e,a)=>((0,l.uX)(),(0,l.Wv)(D,{key:a,effect:"plain",onClick:a=>s.copyToClipboard(e)},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e),1)])),_:2},1032,["onClick"])))),128))])]),(0,l.Lk)("p",P,[a[20]||(a[20]=(0,l.Lk)("strong",{style:{"min-width":"100px"}},"é…ç½®",-1)),(0,l.bF)(D,{effect:"plain",type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.ocpus)+" æ ¸ / "+(0,c.v_)(e.memory)+" GB / "+(0,c.v_)(e.bootVolumeSize)+" GB ",1)])),_:2},1024)]),(0,l.Lk)("p",V,[a[21]||(a[21]=(0,l.Lk)("strong",{style:{"min-width":"100px"}},"å¯ç”¨åŸŸ",-1)),(0,l.bF)(D,{effect:"plain",type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.availabilityDomain),1)])),_:2},1024)]),(0,l.Lk)("p",F,[a[22]||(a[22]=(0,l.Lk)("strong",{style:{"min-width":"100px"}},"åˆ›å»ºæ—¶é—´",-1)),(0,l.bF)(D,{effect:"plain",type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.createTime),1)])),_:2},1024)])]),(0,l.bF)(d,{class:"divider"}),(0,l.bF)(W,{class:"ml-4"},{default:(0,l.k6)((()=>[(0,l.bF)(E,{content:"æ›´æ¢IP",placement:"bottom"},{default:(0,l.k6)((()=>[1!==e.enableChangeIp?((0,l.uX)(),(0,l.Wv)(o,{key:0,onClick:a=>s.handleChangeIp(e.ocId),icon:"HelpFilled"},null,8,["onClick"])):(0,l.Q3)("",!0)])),_:2},1024),(0,l.bF)(E,{content:"åœæ­¢æ›´æ¢IP",placement:"bottom"},{default:(0,l.k6)((()=>[1===e.enableChangeIp?((0,l.uX)(),(0,l.Wv)(o,{key:0,onClick:a=>s.handleStopChangeIp(e.ocId),icon:"HelpFilled",type:"danger"},null,8,["onClick"])):(0,l.Q3)("",!0)])),_:2},1024),(0,l.bF)(E,{content:"ç¼–è¾‘å®ä¾‹é…ç½®",placement:"bottom"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{onClick:a=>s.handleUpdateInstanceCfg(e.ocId),icon:"Edit",type:"primary"},null,8,["onClick"])])),_:2},1024),(0,l.bF)(E,{content:"å¯åŠ¨å®ä¾‹",placement:"bottom"},{default:(0,l.k6)((()=>[-1===e.state.indexOf("RUNNING")?((0,l.uX)(),(0,l.Wv)(o,{key:0,type:"success",icon:"VideoPlay",disabled:-1!==e.state.indexOf("RUNNING"),onClick:a=>s.updateInstanceState(e.ocId,"START")},null,8,["disabled","onClick"])):(0,l.Q3)("",!0)])),_:2},1024),(0,l.bF)(E,{content:"åœæ­¢å®ä¾‹",placement:"bottom"},{default:(0,l.k6)((()=>[-1===e.state.indexOf("STOPPED")?((0,l.uX)(),(0,l.Wv)(o,{key:0,type:"info",icon:"VideoPause",disabled:-1!==e.state.indexOf("STOPPED"),onClick:a=>s.updateInstanceState(e.ocId,"STOP")},null,8,["disabled","onClick"])):(0,l.Q3)("",!0)])),_:2},1024),(0,l.bF)(E,{content:"é‡å¯å®ä¾‹",placement:"bottom"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{type:"warning",icon:"Refresh",onClick:a=>s.updateInstanceState(e.ocId,"RESET")},null,8,["onClick"])])),_:2},1024),(0,l.bF)(E,{content:"ç»ˆæ­¢å®ä¾‹ï¼ˆæ“ä½œä¸å¯é€†ï¼Œè¯·è°¨æ…æ“ä½œï¼‰",placement:"bottom"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{type:"danger",icon:"Delete",disabled:-1!==e.state.indexOf("TERMINATING"),onClick:a=>s.handleTerminateInstance(e.ocId)},null,8,["disabled","onClick"])])),_:2},1024),(0,l.bF)(E,{content:"å¯åŠ¨ Cloud Shell è¿æ¥",placement:"bottom"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{type:"success",icon:"HelpFilled",onClick:a=>s.startVnc(e.ocId)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])))),128))]),(0,l.Lk)("div",_,[(0,l.bF)(X,{onChange:s.onCollapseChange},{default:(0,l.k6)((()=>[(0,l.bF)(O,{name:"1"},{title:(0,l.k6)((()=>[(0,l.bF)(r,{class:"header-icon"},{default:(0,l.k6)((()=>[(0,l.bF)(B)])),_:1}),a[23]||(a[23]=(0,l.eW)(" APIé…ç½®è¯¦æƒ…ï¼ˆç‚¹å‡»å‘ä¸‹â¬‡å±•å¼€ï¼‰ "))])),default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[(0,l.Lk)("span",L,[(0,l.bF)(N,{type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)("region="+(0,c.v_)(this.ociCfgDetails.region),1)])),_:1})])]),(0,l.Lk)("div",null,[(0,l.Lk)("span",x,[(0,l.bF)(N,{type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)("user="+(0,c.v_)(this.ociCfgDetails.userId),1)])),_:1})])]),(0,l.Lk)("div",null,[(0,l.Lk)("span",w,[(0,l.bF)(N,{type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)("tenancy="+(0,c.v_)(this.ociCfgDetails.tenantId),1)])),_:1})])]),(0,l.Lk)("div",null,[(0,l.Lk)("span",R,[(0,l.bF)(N,{type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)("fingerprint="+(0,c.v_)(this.ociCfgDetails.fingerprint),1)])),_:1})])]),(0,l.Lk)("div",null,[(0,l.Lk)("span",S,[(0,l.bF)(N,{type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)("key_file="+(0,c.v_)(this.ociCfgDetails.privateKeyPath),1)])),_:1})])])])),_:1}),(0,l.bF)(O,{name:"2"},{title:(0,l.k6)((()=>[(0,l.bF)(r,{class:"header-icon"},{default:(0,l.k6)((()=>[(0,l.bF)(B)])),_:1}),a[24]||(a[24]=(0,l.eW)(" ç½‘ç»œè´Ÿè½½å‡è¡¡å™¨åˆ—è¡¨ï¼ˆæŸ¥çœ‹ 500MB AMD å®ä¾‹å…¬ç½‘IPï¼‰ "))])),default:(0,l.k6)((()=>[(0,l.bF)(A,{data:this.ociCfgDetails.nlbList,style:{width:"100%","min-width":"800px"},ref:"myTable"},{default:(0,l.k6)((()=>[(0,l.bF)($,{type:"selection",width:"35"}),(0,l.bF)($,{fixed:"",label:"åç§°"},{default:(0,l.k6)((({row:e})=>[(0,l.eW)((0,c.v_)(e.name),1)])),_:1}),(0,l.bF)($,{label:"çŠ¶æ€"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(D,{type:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.status),1)])),_:2},1024)])),_:1}),(0,l.bF)($,{label:"å…¬ç½‘IP"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(D,{type:"success",onClick:a=>s.copyToClipboard(e.publicIp)},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.publicIp),1)])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})])),_:1},8,["onChange"])]),(0,l.bF)(H,{modelValue:n.dialogVisible,"onUpdate:modelValue":a[8]||(a[8]=e=>n.dialogVisible=e),title:"å¯æŒ‡å®šå¤šä¸ª CIDR ç½‘æ®µï¼Œå›è½¦ä¿å­˜ï¼Œä¼ ç©ºåˆ™éšæœºæ›´æ¢ä¸€ä¸ªIP",width:"50%",onClose:s.handleDialogClose},{footer:(0,l.k6)((()=>[(0,l.bF)(o,{onClick:s.handleDialogClose},{default:(0,l.k6)((()=>a[26]||(a[26]=[(0,l.eW)("å–æ¶ˆ")]))),_:1},8,["onClick"]),(0,l.bF)(o,{type:"primary",onClick:s.changeIp,loading:n.changeIpLoading},{default:(0,l.k6)((()=>a[27]||(a[27]=[(0,l.eW)(" æ–°å¢æ›´æ¢IPä»»åŠ¡ ")]))),_:1},8,["onClick","loading"])])),default:(0,l.k6)((()=>[(0,l.bF)(j,{model:n.changeIpParams,"label-width":"100px",class:"form-section"},{default:(0,l.k6)((()=>[(0,l.bF)(M,{label:"é€‰æ‹©VNIC"},{default:(0,l.k6)((()=>[(0,l.bF)(G,{modelValue:n.changeIpParams.vnicId,"onUpdate:modelValue":a[0]||(a[0]=e=>n.changeIpParams.vnicId=e),placeholder:"è¯·é€‰æ‹©vnic",style:{width:"100%"}},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.vnicList,(e=>((0,l.uX)(),(0,l.Wv)(z,{key:e.vnicId,label:e.name,value:e.vnicId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(M,{label:"CIDRåˆ—è¡¨"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",U,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.changeIpParams.cidrList,(e=>((0,l.uX)(),(0,l.Wv)(D,{key:e,closable:"",onClose:a=>s.handleClose(e)},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e),1)])),_:2},1032,["onClose"])))),128))]),(0,l.Lk)("div",T,[n.inputVisible?((0,l.uX)(),(0,l.Wv)(K,{key:0,ref:"InputRef",modelValue:n.inputValue,"onUpdate:modelValue":a[1]||(a[1]=e=>n.inputValue=e),class:"w-20",onKeyup:(0,p.jR)(s.handleInputConfirm,["enter"]),onBlur:s.handleInputConfirm,placeholder:"å›è½¦æ·»åŠ CIDR"},null,8,["modelValue","onKeyup","onBlur"])):((0,l.uX)(),(0,l.Wv)(o,{key:1,class:"button-new-tag",size:"small",onClick:s.showInput},{default:(0,l.k6)((()=>a[25]||(a[25]=[(0,l.eW)(" + æ–°å¢ CIDR ç½‘æ®µ ")]))),_:1},8,["onClick"]))])])),_:1}),(0,l.bF)(M,null,{default:(0,l.k6)((()=>[(0,l.bF)(d,{class:"divider"})])),_:1}),(0,l.bF)(M,null,{default:(0,l.k6)((()=>[(0,l.bF)(o,{type:"text",onClick:a[2]||(a[2]=e=>n.advancedVisible=!n.advancedVisible)},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.advancedVisible?"æ”¶èµ· Cloudflare DNS è®¾ç½®":"ç‚¹å‡»å±•å¼€ Cloudflare DNS è®¾ç½®"),1)])),_:1})])),_:1}),n.advancedVisible?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.bF)(M,{label:"åŸŸåå‰ç¼€"},{default:(0,l.k6)((()=>[(0,l.bF)(K,{modelValue:n.changeIpParams.domainPrefix,"onUpdate:modelValue":a[3]||(a[3]=e=>n.changeIpParams.domainPrefix=e),placeholder:"è¾“å…¥å‰ç¼€"},null,8,["modelValue"])])),_:1}),(0,l.bF)(M,{label:"é€‰æ‹©åŸŸå"},{default:(0,l.k6)((()=>[(0,l.bF)(G,{modelValue:n.changeIpParams.selectedDomainCfgId,"onUpdate:modelValue":a[4]||(a[4]=e=>n.changeIpParams.selectedDomainCfgId=e),placeholder:"è¯·é€‰æ‹©åŸŸå",style:{width:"100%"}},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.ociCfgDetails.cfCfgList,(e=>((0,l.uX)(),(0,l.Wv)(z,{key:e.cfCfgId,label:e.domain,value:e.cfCfgId},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(M,{label:"å¼€å¯ä»£ç†åŠ é€Ÿ"},{default:(0,l.k6)((()=>[(0,l.bF)(Q,{modelValue:n.changeIpParams.enableProxy,"onUpdate:modelValue":a[5]||(a[5]=e=>n.changeIpParams.enableProxy=e)},null,8,["modelValue"])])),_:1}),(0,l.bF)(M,{label:"TTLï¼ˆç§’ï¼‰"},{default:(0,l.k6)((()=>[(0,l.bF)(q,{modelValue:n.changeIpParams.ttl,"onUpdate:modelValue":a[6]||(a[6]=e=>n.changeIpParams.ttl=e),min:60,max:86400,step:60,placeholder:"å•ä½ï¼šç§’"},null,8,["modelValue"])])),_:1}),(0,l.bF)(M,{label:"å¤‡æ³¨"},{default:(0,l.k6)((()=>[(0,l.bF)(K,{type:"textarea",modelValue:n.changeIpParams.remark,"onUpdate:modelValue":a[7]||(a[7]=e=>n.changeIpParams.remark=e),placeholder:"è¾“å…¥å¤‡æ³¨ä¿¡æ¯"},null,8,["modelValue"])])),_:1})],64)):(0,l.Q3)("",!0)])),_:1},8,["model"])])),_:1},8,["modelValue","onClose"]),(0,l.bF)(H,{title:"ç»ˆæ­¢å®ä¾‹",modelValue:n.terminateDialogVisible,"onUpdate:modelValue":a[12]||(a[12]=e=>n.terminateDialogVisible=e),width:"500px",onClose:a[13]||(a[13]=e=>n.terminateDialogVisible=!1)},{footer:(0,l.k6)((()=>[(0,l.bF)(o,{onClick:a[11]||(a[11]=e=>n.terminateDialogVisible=!1)},{default:(0,l.k6)((()=>a[30]||(a[30]=[(0,l.eW)("å–æ¶ˆ")]))),_:1}),(0,l.bF)(o,{onClick:s.sendCaptcha,loading:n.sendLoading},{default:(0,l.k6)((()=>a[31]||(a[31]=[(0,l.eW)("å‘é€éªŒè¯ç ")]))),_:1},8,["onClick","loading"]),(0,l.bF)(o,{type:"danger",disabled:""===n.form.verificationCode,loading:n.terminateLoading,onClick:s.terminateInstance},{default:(0,l.k6)((()=>a[32]||(a[32]=[(0,l.eW)(" ç¡®è®¤ç»ˆæ­¢ ")]))),_:1},8,["disabled","loading","onClick"])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",null,[a[29]||(a[29]=(0,l.Lk)("p",null,"ç»ˆæ­¢å®ä¾‹å°†ä¸å¯æ¢å¤ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹é€‰é¡¹ï¼š",-1)),(0,l.bF)(Y,null,{default:(0,l.k6)((()=>[(0,l.bF)(J,{span:24},{default:(0,l.k6)((()=>[(0,l.bF)(Z,{modelValue:n.retainBootVolume,"onUpdate:modelValue":a[9]||(a[9]=e=>n.retainBootVolume=e)},{default:(0,l.k6)((()=>a[28]||(a[28]=[(0,l.eW)(" ä¿ç•™å¼•å¯¼å·åŠæ•°æ® ")]))),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,l.bF)(d,{class:"divider"}),(0,l.bF)(Y,null,{default:(0,l.k6)((()=>[(0,l.bF)(J,{span:24},{default:(0,l.k6)((()=>[(0,l.bF)(j,{model:n.form,ref:"form","label-width":"70px"},{default:(0,l.k6)((()=>[(0,l.bF)(M,{label:"éªŒè¯ç "},{default:(0,l.k6)((()=>[(0,l.bF)(K,{modelValue:n.form.verificationCode,"onUpdate:modelValue":a[10]||(a[10]=e=>n.form.verificationCode=e),placeholder:"è¯·è¾“å…¥éªŒè¯ç ",maxlength:"10",clearable:""},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1})])),_:1})])])),_:1},8,["modelValue"])],64)}t(44114),t(98992),t(72577);var E=t(51219),W=t(12933),B=t(25320),N=t(57477),O=t(77346),$={components:{cpu:N.cpu},data(){return{advancedVisible:!1,flushLoading:!1,changeIpLoading:!1,sendLoading:!1,dialogVisible:!1,terminateDialogVisible:!1,terminateLoading:!1,retainBootVolume:!1,form:{verificationCode:""},inputVisible:!1,inputValue:"",user:{},changeIpParams:{ociCfgId:"",instanceId:"",cidrList:[],changeCfDns:!1,vnicId:"",domainPrefix:"",selectedDomainCfgId:"",enableProxy:!1,ttl:60,remark:""},vnicList:[],ociCfgDetails:{},UpdateInstanceStateParams:{ociCfgId:"",instanceId:"",action:""},SendCaptchaParams:{ociCfgId:"",instanceId:""},TerminateInstanceParams:{ociCfgId:"",instanceId:"",preserveBootVolume:0,captcha:""},GetOciCfgDetailsParams:{cfgId:"",cleanReLaunchDetails:!1},compartmentId:""}},mounted(){this.user.id=this.$route.query.cfgId,this.user.username=this.$route.query.username,this.changeIpParams.ociCfgId=this.$route.query.cfgId,this.GetOciCfgDetailsParams.cfgId=this.$route.query.cfgId,this.getOciCfgDetails()},methods:{copyToClipboard:O.l,goBack(){this.$router.back()},onCollapseChange(e){e.includes("2")&&this.$nextTick((()=>{this.$refs.myTable?.doLayout()}))},handleClose(e){const a=this.changeIpParams.cidrList.indexOf(e);-1!==a&&this.changeIpParams.cidrList.splice(a,1)},handleDialogClose(){this.dialogVisible=!1,this.changeIpParams.vnicId="",this.changeIpParams.cidrList=[]},handleStopChangeIp(e){const a=window.confirm("ç¡®å®šè¦åœæ­¢æ›´æ¢IPä»»åŠ¡å—?");a?this.stopChangeIp(e):this.$message.info("å·²å–æ¶ˆ")},handleUpdateInstanceCfg(e){this.$router.push({path:"/dashboard/ociUpdateInstanceCfg",query:{ocId:e,ociCfgId:this.user.id,username:this.user.username}})},stopChangeIp(e){this.$axios.post("/oci/stopChangeIp",{instanceId:e}).then((e=>{e.data.success?(0,E.nk)({message:e.data.msg,type:"success",duration:2e3}):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3}),this.reLaunchDetails()})).catch((e=>{console.error("Error:",e)}))},showInput(){this.inputVisible=!0,this.$nextTick((()=>{this.$refs.InputRef.focus()}))},handleInputConfirm(){this.inputValue&&!this.changeIpParams.cidrList.includes(this.inputValue)&&this.changeIpParams.cidrList.push(this.inputValue),this.inputValue="",this.inputVisible=!1},reLaunchDetails(){this.GetOciCfgDetailsParams.cleanReLaunchDetails=!0,this.getOciCfgDetails(),this.GetOciCfgDetailsParams.cleanReLaunchDetails=!1},async getOciCfgDetails(){this.ociCfgDetails.instanceList=[],this.flushLoading=!0,await this.$axios.post("/oci/details",{cfgId:this.changeIpParams.ociCfgId,cleanReLaunchDetails:this.GetOciCfgDetailsParams.cleanReLaunchDetails}).then((e=>{e.data.success?(this.ociCfgDetails=e.data.data,(0,E.nk)({message:e.data.msg,type:"success",duration:2e3}),this.flushLoading=!1):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))},handleChangeIp(e){this.dialogVisible=!0,this.changeIpParams.instanceId=e,this.vnicList=this.ociCfgDetails.instanceList.find((a=>a.ocId===e))?.vnicList},changeIp(){this.changeIpLoading=!0,this.changeIpParams.changeCfDns=this.advancedVisible,this.$axios.post("/oci/changeIp",{...this.changeIpParams}).then((e=>{e.data.success?((0,E.nk)({message:e.data.msg,type:"success",duration:2e3}),this.changeIpLoading=!1,this.dialogVisible=!1,this.reLaunchDetails()):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.changeIpLoading=!1}))},async updateInstanceState(e,a){let t="";switch(a){case"START":t="ç¡®å®šè¦å¯åŠ¨å®ä¾‹å—ï¼Ÿ";break;case"STOP":t="ç¡®å®šè¦åœæ­¢å®ä¾‹å—ï¼Ÿ";break;case"RESET":t="ç¡®å®šè¦é‡æ–°å¯åŠ¨å®ä¾‹å—ï¼Ÿ";break;default:t="ç¡®å®šè¦æ‰§è¡Œæ­¤æ“ä½œå—ï¼Ÿ"}try{const l=await W.s.confirm(t,"ç¡®è®¤æ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"});"confirm"===l&&(this.UpdateInstanceStateParams.ociCfgId=this.user.id,this.UpdateInstanceStateParams.instanceId=e,this.UpdateInstanceStateParams.action=a,await this.$axios.post("/oci/updateInstanceState",{...this.UpdateInstanceStateParams}).then((e=>{e.data.success?((0,E.nk)({message:e.data.msg,type:"success",duration:2e3}),this.getOciCfgDetails()):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e),(0,E.nk)({message:"æ›´æ–°å®ä¾‹çŠ¶æ€æ—¶å‡ºé”™",type:"error",duration:2e3})})))}catch(l){(0,E.nk)({message:"æ“ä½œå·²å–æ¶ˆ",type:"info",duration:2e3})}},handleTerminateInstance(e){this.TerminateInstanceParams.instanceId=e,this.terminateDialogVisible=!0},sendCaptcha(){this.sendLoading=!0,this.SendCaptchaParams.ociCfgId=this.user.id,this.SendCaptchaParams.instanceId=this.TerminateInstanceParams.instanceId,this.$axios.post("/oci/sendCaptcha",{...this.SendCaptchaParams}).then((e=>{e.data.success?((0,E.nk)({message:e.data.msg,type:"success",duration:2e3}),this.changeIpLoading=!1,this.dialogVisible=!1,this.sendLoading=!1):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))},async terminateInstance(){this.terminateLoading=!0,this.TerminateInstanceParams.ociCfgId=this.user.id,this.TerminateInstanceParams.preserveBootVolume=!0===this.retainBootVolume?1:0,this.TerminateInstanceParams.captcha=this.form.verificationCode,this.$axios.post("/oci/terminateInstance",{...this.TerminateInstanceParams}).then((e=>{e.data.success?((0,E.nk)({message:e.data.msg,type:"success",duration:2e3}),this.getOciCfgDetails()):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e),(0,E.nk)({message:"ç»ˆæ­¢å®ä¾‹æ—¶å‘ç”Ÿé”™è¯¯",type:"error",duration:2e3})})).finally((()=>{this.terminateLoading=!1,this.terminateDialogVisible=!1}))},async startVnc(e){const a=await(0,O.Z)("ç¡®å®šè¦è¿æ¥åˆ°è¯¥å®ä¾‹å—ï¼Ÿ","Cloud Shell");if(!a)return void this.$message.info("å·²å–æ¶ˆ");const t=B.Ks.service({lock:!0,text:"æ­£åœ¨å¯åŠ¨ VNC è¿æ¥ï¼Œè¯·ç¨å€™...",background:"rgba(0, 0, 0, 0.5)"});this.$axios.post("/oci/startVnc",{ociCfgId:this.user.id,instanceId:e,compartmentId:this.compartmentId}).then((e=>{if(e.data.success){let a;if(t.close(),"http:"===location.protocol){const e=location.hostname;a=`http://${e}:6080`}else a=`${location.protocol}//${location.host}/myvnc`;const l=`${a}/vnc.html?autoconnect=true`;(0,W.s)({title:"ğŸ‰ VNC è¿æ¥æˆåŠŸ ğŸ‰",message:`${e.data.msg} VNC è¿æ¥åˆ›å»ºæˆåŠŸï¼é¡µé¢å³å°†è‡ªåŠ¨è·³è½¬~<br><br>è¿æ¥åœ°å€ï¼š${l}<br><br>â—å¦‚è¢«æµè§ˆå™¨æ‹¦æˆªï¼Œè¯·å¤åˆ¶è¿æ¥åœ°å€è¿›è¡Œè®¿é—®ï¼Œå¦‚æœæ²¡æœ‰é…ç½®åå‘ä»£ç†ï¼Œéœ€è¦æ”¾è¡Œéƒ¨ç½²æ¢é•¿çš„æœåŠ¡å™¨çš„ 6080 ç«¯å£ã€‚`,dangerouslyUseHTMLString:!0,confirmButtonText:"çŸ¥é“äº†",showClose:!0}),setTimeout((()=>{window.open(l,"_blank")}),4e3)}else(0,E.nk)({message:e.data.msg,type:"error",duration:2e3}),t.close()})).catch((()=>{(0,E.nk)({message:"è¿æ¥æ—¶å‘ç”Ÿé”™è¯¯",type:"error",duration:2e3}),t.close()}))}}},A=t(71241);const X=(0,A.A)($,[["render",D]]);var z=X;const G={style:{"font-size":"16px","font-weight":"bold"}},M={style:{"overflow-x":"auto"}},K={style:{"margin-left":"10px"}};function Q(e,a,t,i,n,s){const o=(0,l.g2)("el-divider"),d=(0,l.g2)("el-button"),u=(0,l.g2)("el-input"),r=(0,l.g2)("el-table-column"),p=(0,l.g2)("el-tooltip"),g=(0,l.g2)("el-tag"),m=(0,l.g2)("el-table"),b=(0,l.g2)("el-pagination"),h=(0,l.g2)("el-input-number"),f=(0,l.g2)("el-col"),k=(0,l.g2)("el-slider"),y=(0,l.g2)("el-row"),v=(0,l.g2)("el-dialog"),C=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("span",G,"å½“å‰é…ç½®ï¼š"+(0,c.v_)(this.username),1),(0,l.bF)(o,{class:"divider"}),(0,l.Lk)("div",null,[(0,l.bF)(d,{type:"success",style:{"margin-bottom":"20px"},onClick:s.cleanReLaunch},{default:(0,l.k6)((()=>a[8]||(a[8]=[(0,l.eW)(" åˆ·æ–° ")]))),_:1},8,["onClick"]),(0,l.bF)(u,{modelValue:n.pageParams.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>n.pageParams.keyword=e),placeholder:"æ¨¡ç³Šæœç´¢",onInput:s.getBvList,clearable:"","prefix-icon":"Search",style:{"margin-left":"20px",width:"200px","margin-bottom":"20px"}},null,8,["modelValue","onInput"]),(0,l.bF)(d,{type:"danger",onClick:s.batchTerminate,disabled:!n.batchSelected.length,style:{"margin-left":"20px","margin-bottom":"20px"}},{default:(0,l.k6)((()=>a[9]||(a[9]=[(0,l.eW)(" æ‰¹é‡ç»ˆæ­¢ ")]))),_:1},8,["onClick","disabled"]),(0,l.Lk)("div",M,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{data:n.BootVolumesRsp,style:{width:"100%","min-width":"800px"},onSelectionChange:s.handleSelectionChange},{default:(0,l.k6)((()=>[(0,l.bF)(r,{type:"selection",width:"35",selectable:s.isSelectable},null,8,["selectable"]),(0,l.bF)(r,{fixed:"",label:"åç§°",width:"300"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(p,{content:e.displayName,placement:"top"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.displayName),1)])),_:2},1032,["content"])])),_:1}),(0,l.bF)(r,{label:"å¯ç”¨åŸŸ"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(p,{content:e.availabilityDomain,placement:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{type:"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.availabilityDomain),1)])),_:2},1024)])),_:2},1032,["content"])])),_:1}),(0,l.bF)(r,{label:"çŠ¶æ€"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(g,{type:"AVAILABLE"===e.lifecycleState?"success":"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.lifecycleState),1)])),_:2},1032,["type"])])),_:1}),(0,l.bF)(r,{label:"å·²é™„åŠ å®ä¾‹"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(p,{content:e.instanceName,placement:"top"},{default:(0,l.k6)((()=>[null!==e.instanceName?((0,l.uX)(),(0,l.Wv)(g,{key:0,type:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.instanceName),1)])),_:2},1024)):(0,l.Q3)("",!0)])),_:2},1032,["content"])])),_:1}),(0,l.bF)(r,{prop:"vpusPerGB",label:"VPU"}),(0,l.bF)(r,{prop:"sizeInGBs",label:"ç¡¬ç›˜ï¼ˆGBï¼‰"}),(0,l.bF)(r,{prop:"timeCreated",label:"åˆ›å»ºæ—¶é—´"}),(0,l.bF)(r,{fixed:"right",label:"æ“ä½œ",width:"150"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(d,{onClick:a=>s.handleUpdateBootVolume(e),type:"primary",link:""},{default:(0,l.k6)((()=>a[10]||(a[10]=[(0,l.eW)(" ç¼–è¾‘ ")]))),_:2},1032,["onClick"]),(0,l.bF)(d,{onClick:a=>s.handleTerminate(e),type:"danger",link:"",disabled:e.attached},{default:(0,l.k6)((()=>a[11]||(a[11]=[(0,l.eW)(" ç»ˆæ­¢ ")]))),_:2},1032,["onClick","disabled"])])),_:1})])),_:1},8,["data","onSelectionChange"])),[[C,n.loading]])]),(0,l.bF)(b,{onCurrentChange:s.handlePageChange,onSizeChange:s.handleSizeChange,"current-page":n.pageParams.currentPage,"onUpdate:currentPage":a[1]||(a[1]=e=>n.pageParams.currentPage=e),"page-size":n.pageParams.pageSize,"onUpdate:pageSize":a[2]||(a[2]=e=>n.pageParams.pageSize=e),"page-sizes":[5,10,20,50],total:n.total,layout:"total, sizes, prev, pager, next, jumper",style:{"margin-top":"20px"}},null,8,["onCurrentChange","onSizeChange","current-page","page-size","total"])]),(0,l.bF)(v,{title:"æ›´æ”¹å¼•å¯¼å·é…ç½®",modelValue:n.updateBvDialogVisible,"onUpdate:modelValue":a[6]||(a[6]=e=>n.updateBvDialogVisible=e),width:"500px",onClose:a[7]||(a[7]=e=>n.updateBvDialogVisible=!1)},{footer:(0,l.k6)((()=>[(0,l.bF)(y,{type:"flex",justify:"end",style:{"margin-top":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(d,{onClick:a[5]||(a[5]=e=>n.updateBvDialogVisible=!1)},{default:(0,l.k6)((()=>a[14]||(a[14]=[(0,l.eW)("å–æ¶ˆ")]))),_:1}),(0,l.bF)(d,{type:"primary",loading:n.updateBvLoading,onClick:s.updateBootVolume},{default:(0,l.k6)((()=>a[15]||(a[15]=[(0,l.eW)(" ç¡®è®¤ä¿®æ”¹ ")]))),_:1},8,["loading","onClick"])])),_:1})])),default:(0,l.k6)((()=>[(0,l.bF)(y,{gutter:20,align:"middle",style:{"margin-top":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(f,{span:24,style:{"margin-bottom":"10px"}},{default:(0,l.k6)((()=>[a[12]||(a[12]=(0,l.Lk)("span",{style:{"font-size":"14px","font-weight":"bold"}},"å¼•å¯¼å·ç£ç›˜å¤§å°ï¼ˆGBï¼‰ï¼š",-1)),(0,l.bF)(h,{modelValue:n.UpdateBootVolumeParams.bootVolumeSize,"onUpdate:modelValue":a[3]||(a[3]=e=>n.UpdateBootVolumeParams.bootVolumeSize=e),min:47,label:"å¼•å¯¼å·å¤§å°",style:{"margin-left":"10px"}},null,8,["modelValue"])])),_:1}),(0,l.bF)(f,{span:24},{default:(0,l.k6)((()=>[a[13]||(a[13]=(0,l.Lk)("span",{style:{"font-size":"14px","font-weight":"bold"}},"å¼•å¯¼å· VPUï¼š",-1)),(0,l.bF)(k,{modelValue:n.UpdateBootVolumeParams.bootVolumeVpu,"onUpdate:modelValue":a[4]||(a[4]=e=>n.UpdateBootVolumeParams.bootVolumeVpu=e),min:10,max:120,step:10,label:"å¼•å¯¼å·VPUå¤§å°",style:{"margin-left":"10px","max-width":"70%"}},null,8,["modelValue"]),(0,l.Lk)("span",K,"å½“å‰ VPU: "+(0,c.v_)(n.selectedBvVpu),1)])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}t(81454);var q={mounted(){this.pageParams.ociCfgId=this.$route.query.cfgId,this.TerminateBootVolumeParams.ociCfgId=this.$route.query.cfgId,this.UpdateBootVolumeParams.ociCfgId=this.$route.query.cfgId,this.username=this.$route.query.username,this.getBvList()},data(){return{username:"",pageParams:{cleanReLaunch:!1,ociCfgId:"",keyword:"",currentPage:1,pageSize:10},total:0,BootVolumesRsp:[],batchSelected:[],TerminateBootVolumeParams:{ociCfgId:"",bootVolumeIds:[]},loading:!0,updateBvDialogVisible:!1,updateBvLoading:!1,selectedBvVpu:"",UpdateBootVolumeParams:{ociCfgId:"",bootVolumeId:"",bootVolumeSize:"",bootVolumeVpu:""}}},methods:{async getBvList(){await this.$axios.post("/bootVolume/page",{...this.pageParams}).then((e=>{e.data.success?(this.BootVolumesRsp=e.data.data.records,this.total=e.data.data.total):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3}),this.loading=!1})).catch((e=>{console.error("Error:",e)}))},cleanReLaunch(){this.pageParams.cleanReLaunch=!0,this.loading=!0,this.getBvList(),this.pageParams.cleanReLaunch=!1},async batchTerminate(){const e=window.confirm("ç¡®å®šè¦ç»ˆæ­¢å¼•å¯¼å·å—");e?(this.TerminateBootVolumeParams.bootVolumeIds=this.batchSelected.map((e=>e.id)),await this.$axios.post("/bootVolume/terminate",{...this.TerminateBootVolumeParams}).then((e=>{e.data.success?((0,E.nk)({message:e.data.msg,type:"success",duration:2e3}),this.cleanReLaunch(),this.batchSelected=[],this.TerminateBootVolumeParams.bootVolumeIds=[]):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))):this.$message.info("å·²å–æ¶ˆ")},handleTerminate(e){this.batchSelected.push(e),this.batchTerminate()},handleUpdateBootVolume(e){this.updateBvDialogVisible=!0,this.UpdateBootVolumeParams.bootVolumeId=e.id,this.UpdateBootVolumeParams.bootVolumeSize=e.sizeInGBs,this.selectedBvVpu=e.vpusPerGB},async updateBootVolume(){const e=window.confirm("ç¡®å®šè¦æ›´æ”¹å¼•å¯¼å·é…ç½®å—");if(!e)return this.$message.info("å·²å–æ¶ˆ"),void(this.updateBvDialogVisible=!1);this.updateBvLoading=!0,await this.$axios.post("/bootVolume/update",{...this.UpdateBootVolumeParams}).then((e=>{e.data.success?((0,E.nk)({message:e.data.msg,type:"success",duration:2e3}),this.cleanReLaunch()):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.updateBvLoading=!1,this.updateBvDialogVisible=!1}))},isSelectable(e){return!e.attached},handlePageChange(e){this.pageParams.currentPage=e,this.getBvList()},handleSizeChange(e){this.pageParams.currentPage=1,this.pageParams.pageSize=e,this.getBvList()},handleSelectionChange(e){this.batchSelected=e}}};const j=(0,A.A)(q,[["render",Q]]);var H=j;const Z={style:{"font-size":"16px","font-weight":"bold"}},J={key:0,style:{"font-size":"16px","font-weight":"bold","margin-left":"20px"}},Y={key:1},ee={style:{"overflow-x":"auto"}},ae={key:2};function te(e,a,t,i,n,s){const o=(0,l.g2)("el-divider"),d=(0,l.g2)("el-button"),u=(0,l.g2)("el-input"),r=(0,l.g2)("el-table-column"),p=(0,l.g2)("el-tooltip"),g=(0,l.g2)("el-tag"),m=(0,l.g2)("el-table"),b=(0,l.g2)("el-pagination"),h=(0,l.g2)("SecurityRuleList"),f=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("span",Z,"å½“å‰é…ç½®ï¼š"+(0,c.v_)(this.username),1),n.showSecurityRuleList?((0,l.uX)(),(0,l.CE)("span",J,"å½“å‰VCNï¼š"+(0,c.v_)(this.vcnName),1)):(0,l.Q3)("",!0),(0,l.bF)(o,{class:"divider"}),n.showSecurityRuleList?((0,l.uX)(),(0,l.CE)("div",ae,[(0,l.bF)(d,{onClick:a[3]||(a[3]=e=>n.showSecurityRuleList=!1)},{default:(0,l.k6)((()=>a[8]||(a[8]=[(0,l.eW)("è¿”å›VCNåˆ—è¡¨")]))),_:1}),(0,l.bF)(h,{ociCfgId:n.ociCfgId,username:n.username,vcnId:n.vcnId,vcnName:n.vcnName},null,8,["ociCfgId","username","vcnId","vcnName"])])):((0,l.uX)(),(0,l.CE)("div",Y,[(0,l.bF)(d,{type:"success",style:{"margin-bottom":"20px"},onClick:s.reloadVcnList},{default:(0,l.k6)((()=>a[4]||(a[4]=[(0,l.eW)(" åˆ·æ–° ")]))),_:1},8,["onClick"]),(0,l.bF)(u,{modelValue:n.pageParams.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>n.pageParams.keyword=e),placeholder:"æ¨¡ç³Šæœç´¢",onInput:s.getVcnList,clearable:"","prefix-icon":"Search",style:{"margin-left":"20px",width:"200px","margin-bottom":"20px"}},null,8,["modelValue","onInput"]),(0,l.bF)(d,{type:"danger",onClick:s.batchRemove,disabled:!n.batchSelected.length,style:{"margin-left":"20px","margin-bottom":"20px"}},{default:(0,l.k6)((()=>a[5]||(a[5]=[(0,l.eW)(" æ‰¹é‡åˆ é™¤ ")]))),_:1},8,["onClick","disabled"]),(0,l.Lk)("div",ee,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(m,{data:n.vcnPageRsp,style:{width:"100%","min-width":"800px"},onSelectionChange:s.handleSelectionChange},{default:(0,l.k6)((()=>[(0,l.bF)(r,{type:"selection",width:"35"}),(0,l.bF)(r,{fixed:"",label:"åç§°",width:"300"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(p,{content:e.displayName,placement:"top"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.displayName),1)])),_:2},1032,["content"])])),_:1}),(0,l.bF)(r,{label:"çŠ¶æ€"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(g,{type:"AVAILABLE"===e.status?"success":"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.status),1)])),_:2},1032,["type"])])),_:1}),(0,l.bF)(r,{label:"å­ç½‘è®¿é—®"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(g,{type:!0===e.visibility?"success":"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(!0===e.visibility?"å…¬å…±ï¼ˆåŒºåŸŸæ€§ï¼‰":"å­˜åœ¨ç§æœ‰å­ç½‘"),1)])),_:2},1032,["type"])])),_:1}),(0,l.bF)(r,{prop:"createTime",label:"åˆ›å»ºæ—¶é—´"}),(0,l.bF)(r,{fixed:"right",label:"æ“ä½œ",width:"150"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(d,{onClick:a=>s.handleSecurityRuleList(e),type:"primary",link:""},{default:(0,l.k6)((()=>a[6]||(a[6]=[(0,l.eW)(" å®‰å…¨åˆ—è¡¨ ")]))),_:2},1032,["onClick"]),(0,l.bF)(d,{onClick:a=>s.handleRemove(e),type:"danger",link:""},{default:(0,l.k6)((()=>a[7]||(a[7]=[(0,l.eW)(" åˆ é™¤ ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"])),[[f,n.loading]])]),(0,l.bF)(b,{onCurrentChange:s.handlePageChange,onSizeChange:s.handleSizeChange,"current-page":n.pageParams.currentPage,"onUpdate:currentPage":a[1]||(a[1]=e=>n.pageParams.currentPage=e),"page-size":n.pageParams.pageSize,"onUpdate:pageSize":a[2]||(a[2]=e=>n.pageParams.pageSize=e),"page-sizes":[5,10,20,50],total:n.total,layout:"total, sizes, prev, pager, next, jumper",style:{"margin-top":"20px"}},null,8,["onCurrentChange","onSizeChange","current-page","page-size","total"])]))])}var le=t(20640),ie={components:{SecurityRuleList:le["default"]},mounted(){this.ociCfgId=this.$route.query.cfgId,this.pageParams.ociCfgId=this.$route.query.cfgId,this.RemoveVcnParams.ociCfgId=this.$route.query.cfgId,this.username=this.$route.query.username,this.getVcnList()},data(){return{loadingInstance:null,showSecurityRuleList:!1,vcnId:null,vcnName:"",username:"",ociCfgId:"",loading:!0,pageParams:{cleanReLaunch:!1,ociCfgId:"",keyword:"",currentPage:1,pageSize:10},vcnPageRsp:[{id:"1",displayName:"123",status:"AVAILABLE",visibility:!0,createTime:"2025-03-03 22:19:18"}],total:0,batchSelected:[],RemoveVcnParams:{ociCfgId:"",vcnIds:[]}}},methods:{reloadVcnList(){this.pageParams.cleanReLaunch=!0,this.loading=!0,this.getVcnList(),this.pageParams.cleanReLaunch=!1},async getVcnList(){await this.$axios.post("/vcn/page",{...this.pageParams}).then((e=>{e.data.success?(this.vcnPageRsp=e.data.data.records,this.total=e.data.data.total):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3}),this.loading=!1})).catch((e=>{console.error("Error:",e)}))},handleRemove(e){this.batchSelected.push(e),this.batchRemove()},async batchRemove(){const e=window.confirm("ç¡®å®šè¦åˆ é™¤VCNå—");e?(this.loadingInstance=B.Ks.service({lock:!0,text:"æ­£åœ¨åˆ é™¤ VCNï¼Œè¯·ç¨å€™...",background:"rgba(0, 0, 0, 0.5)"}),this.RemoveVcnParams.vcnIds=this.batchSelected.map((e=>e.id)),await this.$axios.post("/vcn/remove",{...this.RemoveVcnParams}).then((e=>{e.data.success?((0,E.nk)({message:e.data.msg,type:"success",duration:2e3}),this.batchSelected=[],this.RemoveVcnParams.vcnIds=[]):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.loadingInstance.close(),this.reloadVcnList()}))):this.$message.info("å·²å–æ¶ˆ")},handleSecurityRuleList(e){this.vcnId=e.id,this.vcnName=e.displayName,this.showSecurityRuleList=!0},handlePageChange(e){this.pageParams.currentPage=e,this.getVcnList()},handleSizeChange(e){this.pageParams.currentPage=1,this.pageParams.pageSize=e,this.getVcnList()},handleSelectionChange(e){this.batchSelected=e}}};const ne=(0,A.A)(ie,[["render",te]]);var se=ne;const oe={class:"dashboard"},de={class:"controls"},ue={class:"main-content"},re={class:"chart-container"},ce={ref:"chartRef",style:{width:"100%",height:"400px"}};function pe(e,a,t,i,n,s){const o=(0,l.g2)("el-option"),d=(0,l.g2)("el-select"),u=(0,l.g2)("el-date-picker"),r=(0,l.g2)("el-button"),p=(0,l.g2)("el-descriptions-item"),g=(0,l.g2)("el-descriptions"),m=(0,l.g2)("el-card");return(0,l.uX)(),(0,l.CE)("div",oe,[(0,l.Lk)("div",de,[(0,l.bF)(d,{modelValue:n.selectedRegion,"onUpdate:modelValue":a[0]||(a[0]=e=>n.selectedRegion=e),placeholder:"åŒºåŸŸ",style:{width:"180px"},onChange:s.fetchInstances},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.regionOptions,(e=>((0,l.uX)(),(0,l.Wv)(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"]),(0,l.bF)(d,{modelValue:n.selectedInstance,"onUpdate:modelValue":a[1]||(a[1]=e=>n.selectedInstance=e),placeholder:"å®ä¾‹",style:{width:"180px"},onChange:s.fetchVnics,disabled:!n.selectedRegion},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.instanceOptions,(e=>((0,l.uX)(),(0,l.Wv)(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange","disabled"]),(0,l.bF)(d,{modelValue:n.selectedVnic,"onUpdate:modelValue":a[2]||(a[2]=e=>n.selectedVnic=e),placeholder:"vnic",style:{width:"180px"},disabled:!n.selectedInstance},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.vnicOptions,(e=>((0,l.uX)(),(0,l.Wv)(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"]),(0,l.bF)(d,{modelValue:n.timeInterval,"onUpdate:modelValue":a[3]||(a[3]=e=>n.timeInterval=e),placeholder:"æ—¶é—´é—´éš”",style:{width:"120px"}},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.timeOptions,(e=>((0,l.uX)(),(0,l.Wv)(o,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),(0,l.bF)(u,{modelValue:n.QueryParams.beginTime,"onUpdate:modelValue":a[4]||(a[4]=e=>n.QueryParams.beginTime=e),type:"datetime",placeholder:"å¼€å§‹æ—¶é—´",style:{width:"180px"}},null,8,["modelValue"]),(0,l.bF)(u,{modelValue:n.QueryParams.endTime,"onUpdate:modelValue":a[5]||(a[5]=e=>n.QueryParams.endTime=e),type:"datetime",placeholder:"ç»“æŸæ—¶é—´",style:{width:"180px"}},null,8,["modelValue"]),(0,l.bF)(r,{type:"primary",onClick:a[6]||(a[6]=e=>s.fetchData()),loading:n.loading},{default:(0,l.k6)((()=>a[7]||(a[7]=[(0,l.eW)("æŸ¥è¯¢")]))),_:1},8,["loading"])]),(0,l.Lk)("div",ue,[(0,l.bF)(m,{class:"info-panel",shadow:"hover"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{title:"é…ç½®è¯¦æƒ…",border:"",column:"1",size:"small"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{label:"å½“å‰é…ç½®"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.currentConfig),1)])),_:1}),(0,l.bF)(p,{label:"åŒºåŸŸ"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.selectedRegion),1)])),_:1}),(0,l.bF)(p,{label:"å®ä¾‹æ•°é‡"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.instanceCount),1)])),_:1}),(0,l.bF)(p,{label:"æœ¬æœˆå…¥ç«™æµé‡æ€»è®¡"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.inboundTraffic),1)])),_:1}),(0,l.bF)(p,{label:"æœ¬æœˆå‡ºç«™æµé‡æ€»è®¡"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.outboundTraffic),1)])),_:1})])),_:1})])),_:1}),(0,l.Lk)("div",re,[(0,l.Lk)("div",ce,null,512)])])])}t(14603),t(47566),t(98721);var ge=t(89671),me={props:{ociCfgId:String,username:String},mounted(){this.currentConfig=this.username,this.updateChart(this.data),this.getCondition()},created(){const e=new Date;this.QueryParams.beginTime=new Date(e.getFullYear(),e.getMonth(),1,0,0,0),this.QueryParams.endTime=e},data(){return{loading:!0,selectedRegion:"",selectedInstance:"",selectedVnic:"",timeInterval:"",startTime:null,endTime:null,QueryParams:{ociCfgId:this.ociCfgId,beginTime:null,endTime:null,region:"",inQuery:"",outQuery:"",namespace:"oci_vcn"},regionOptions:[],instanceOptions:[{value:"instance-1",label:"å®ä¾‹1"},{value:"instance-1",label:"å®ä¾‹2"}],vnicOptions:[{value:"vnic1",label:"vnic1"},{value:"vnic2",label:"vnic2"}],timeOptions:[{value:"[1m]",label:"åˆ†é’Ÿ"},{value:"[60m]",label:"å°æ—¶"},{value:"[1440m]",label:"å¤©"}],currentConfig:"é¦–å°”",instanceCount:0,inboundTraffic:"0 MB",outboundTraffic:"0 MB",data:{time:[],inbound:[],outbound:[]}}},methods:{async getCondition(){await this.$axios.post("/traffic/getCondition",new URLSearchParams({ociCfgId:this.ociCfgId})).then((e=>{if(e.data.success){const a=e.data.data;this.regionOptions=a.regionOptions,this.selectedRegion=a.regionOptions[0].value,this.instanceOptions=a.instanceOptions[this.selectedRegion]||[],this.fetchInstances()}else(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{(0,E.nk)({message:"æ•°æ®è·å–å¤±è´¥:"+e,type:"error",duration:2e3})}))},async fetchData(){this.selectedInstance?this.selectedVnic?this.timeInterval?(this.loading=!0,await this.fetchInstances(),this.QueryParams.inQuery="VnicToNetworkBytes"+this.timeInterval+'{resourceId = "'+this.selectedVnic+'"}.sum()',this.QueryParams.outQuery="VnicFromNetworkBytes"+this.timeInterval+'{resourceId = "'+this.selectedVnic+'"}.sum()',this.QueryParams.region=this.selectedRegion,await this.$axios.post("/traffic/data",{...this.QueryParams}).then((e=>{e.data.success?(this.data=e.data.data,this.updateChart(this.data),(0,E.nk)({message:e.data.msg,type:"success",duration:2e3})):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{(0,E.nk)({message:"æ•°æ®è·å–å¤±è´¥:"+e,type:"error",duration:2e3})})).finally((()=>{this.loading=!1}))):this.$message.warning("è¯·é€‰æ‹©æ—¶é—´é—´éš”"):this.$message.warning("è¯·é€‰æ‹©vnic"):this.$message.warning("è¯·é€‰æ‹©å®ä¾‹")},async fetchInstances(){this.loading=!0,this.selectedRegion&&(await this.$axios.post("/traffic/fetchInstances",new URLSearchParams({ociCfgId:this.ociCfgId,region:this.selectedRegion})).then((e=>{if(e.data.success){const a=e.data.data;this.instanceCount=a.instanceCount,this.inboundTraffic=a.inboundTraffic,this.outboundTraffic=a.outboundTraffic}else(0,E.nk)({message:"è·å–åŒºåŸŸå®ä¾‹å¤±è´¥",type:"error",duration:2e3})})).catch((e=>{(0,E.nk)({message:"è·å–åŒºåŸŸå®ä¾‹å¤±è´¥:"+e,type:"error",duration:2e3})})),this.loading=!1)},async fetchVnics(){this.loading=!0,this.selectedVnic="",this.vnicOptions=[],this.selectedInstance&&(await this.$axios.post("/traffic/fetchVnics",new URLSearchParams({ociCfgId:this.ociCfgId,region:this.selectedRegion,instanceId:this.selectedInstance})).then((e=>{e.data.success?this.vnicOptions=e.data.data:(0,E.nk)({message:"è·å–åŒºåŸŸå®ä¾‹vnicå¤±è´¥:",type:"error",duration:2e3})})).catch((e=>{(0,E.nk)({message:"è·å–åŒºåŸŸå®ä¾‹vnicå¤±è´¥:"+e,type:"error",duration:2e3})})),this.loading=!1)},updateChart(e){const a=ge.Ts(this.$refs.chartRef),t={tooltip:{trigger:"axis"},legend:{orient:"horizontal",bottom:10,align:"auto",data:["å…¥ç«™æµé‡","å‡ºç«™æµé‡"]},xAxis:{type:"category",data:e.time,axisLabel:{rotate:15}},yAxis:{type:"value",axisLabel:{formatter:"{value} GB"}},series:[{name:"å…¥ç«™æµé‡",type:"bar",data:e.inbound,itemStyle:{color:"#5470c6"}},{name:"å‡ºç«™æµé‡",type:"bar",data:e.outbound,itemStyle:{color:"#91cc75"}}]};a.setOption(t)}}};const be=(0,A.A)(me,[["render",pe],["__scopeId","data-v-3794158f"]]);var he=be;const fe={class:"user-page"},ke={style:{"overflow-x":"auto"}},ye={style:{"text-align":"right","margin-top":"20px"}},ve={style:{"white-space":"pre-wrap"}},Ce={class:"dialog-footer"},Ie={class:"dialog-footer"};function Pe(e,a,t,i,n,s){const o=(0,l.g2)("el-button"),d=(0,l.g2)("el-descriptions-item"),u=(0,l.g2)("el-tag"),r=(0,l.g2)("el-descriptions"),p=(0,l.g2)("el-card"),g=(0,l.g2)("el-table-column"),m=(0,l.g2)("el-tooltip"),b=(0,l.g2)("el-table"),h=(0,l.g2)("el-input"),f=(0,l.g2)("el-form-item"),k=(0,l.g2)("el-form"),y=(0,l.g2)("el-dialog"),v=(0,l.g2)("el-input-number"),C=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",fe,[(0,l.bF)(p,{class:"user-info-card"},{default:(0,l.k6)((()=>[a[18]||(a[18]=(0,l.Lk)("div",{class:"clearfix"},[(0,l.Lk)("span",null,"ç§Ÿæˆ·ä¿¡æ¯")],-1)),(0,l.bF)(r,{column:1,border:""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{label:"å½“å‰é…ç½®ï¼ˆç‚¹å‡»ä¿®æ”¹ï¼‰"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{onClick:s.handleUpdateUsername,type:"success",link:"",style:{"margin-left":"0"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.username),1)])),_:1},8,["onClick"])])),_:1}),(0,l.bF)(d,{label:"ç§Ÿæˆ·åç§°"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.tenantInfo.name),1)])),_:1}),(0,l.bF)(d,{label:"homeRegionKey"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.tenantInfo.homeRegionKey),1)])),_:1}),(0,l.bF)(d,{label:"upiIdcsCompatibilityLayerEndpoint"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.tenantInfo.upiIdcsCompatibilityLayerEndpoint),1)])),_:1}),(0,l.bF)(d,{label:"ç§Ÿæˆ·ID"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.tenantInfo.id),1)])),_:1}),(0,l.bF)(d,{label:"æè¿°"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.tenantInfo.description),1)])),_:1}),(0,l.bF)(d,{label:"å·²è®¢é˜…çš„åŒºåŸŸ"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.tenantInfo.regions,(e=>((0,l.uX)(),(0,l.Wv)(u,{key:e,style:{"margin-right":"10px"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e),1)])),_:2},1024)))),128))])),_:1}),(0,l.bF)(d,{label:"ç§Ÿæˆ·åˆ›å»ºæ—¶é—´"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.tenantInfo.creatTime),1)])),_:1}),(0,l.bF)(d,{label:"ç™»å½•å¯†ç è¿‡æœŸæ—¶é—´ï¼ˆç‚¹å‡»ä¿®æ”¹ï¼‰"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{onClick:s.handleUpdatePwdEx,type:0===n.tenantInfo.passwordExpiresAfter?"success":"warning",link:"",style:{"margin-left":"0"}},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(n.tenantInfo.passwordExpiresAfter)+" å¤©",1)])),_:1},8,["onClick","type"])])),_:1})])),_:1})])),_:1}),(0,l.bF)(p,{class:"user-list-card"},{default:(0,l.k6)((()=>[a[21]||(a[21]=(0,l.Lk)("div",{class:"clearfix"},[(0,l.Lk)("span",null,"ç”¨æˆ·åˆ—è¡¨")],-1)),(0,l.Lk)("div",ke,[(0,l.bF)(b,{data:n.tenantInfo.userList,style:{width:"100%","min-width":"800px"}},{default:(0,l.k6)((()=>[(0,l.bF)(g,{type:"selection",width:"35"}),(0,l.bF)(g,{fixed:"",label:"åç§°"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(m,{content:e.name,placement:"top"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.name),1)])),_:2},1032,["content"])])),_:1}),(0,l.bF)(g,{label:"é‚®ç®±"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(m,{content:e.email,placement:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{type:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.email),1)])),_:2},1024)])),_:2},1032,["content"])])),_:1}),(0,l.bF)(g,{label:"çŠ¶æ€"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(u,{type:"ACTIVE"===e.lifecycleState?"success":"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.lifecycleState),1)])),_:2},1032,["type"])])),_:1}),(0,l.bF)(g,{label:"é‚®ç®±éªŒè¯çŠ¶æ€"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(u,{type:e.emailVerified?"success":"danger"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.emailVerified?"å·²éªŒè¯":"æœªéªŒè¯"),1)])),_:2},1032,["type"])])),_:1}),(0,l.bF)(g,{label:"æ˜¯å¦ç»‘å®šMFA"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(u,{type:e.isMfaActivated?"success":"info"},{default:(0,l.k6)((()=>[(0,l.eW)((0,c.v_)(e.isMfaActivated?"å·²ç»‘å®š":"æœªç»‘å®š"),1)])),_:2},1032,["type"])])),_:1}),(0,l.bF)(g,{prop:"timeCreated",label:"åˆ›å»ºæ—¶é—´"}),(0,l.bF)(g,{prop:"lastSuccessfulLoginTime",label:"æœ€åæˆåŠŸç™»å½•æ—¶é—´"}),(0,l.bF)(g,{fixed:"right",label:"æ“ä½œ",width:"150"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(o,{onClick:a=>s.handleEdit(e),type:"primary",link:""},{default:(0,l.k6)((()=>a[19]||(a[19]=[(0,l.eW)(" ç¼–è¾‘ ")]))),_:2},1032,["onClick"]),(0,l.bF)(o,{onClick:a=>s.deleteUser(e),type:"danger",link:""},{default:(0,l.k6)((()=>a[20]||(a[20]=[(0,l.eW)(" åˆ é™¤ ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])])),_:1})])),[[C,n.loading]]),(0,l.bF)(y,{title:"ç¼–è¾‘ç”¨æˆ·ï¼š"+n.UpdateUserName+" ï¼ˆğŸ””æ³¨æ„ï¼šéƒ¨åˆ†åŠŸèƒ½å¯èƒ½ä¼šå¤±è´¥ï¼‰",modelValue:n.showEdit,"onUpdate:modelValue":a[6]||(a[6]=e=>n.showEdit=e),onClose:a[7]||(a[7]=e=>n.showEdit=!1)},{default:(0,l.k6)((()=>[(0,l.bF)(o,{type:"primary",onClick:a[0]||(a[0]=e=>n.jsonDialogVisible=!0)},{default:(0,l.k6)((()=>a[22]||(a[22]=[(0,l.eW)("æ˜¾ç¤ºç”¨æˆ·å®Œæ•´ JSON æ•°æ®")]))),_:1}),(0,l.bF)(o,{type:"danger",onClick:s.deleteMfaDevice,loading:n.deleteMfaDeviceLoading},{default:(0,l.k6)((()=>a[23]||(a[23]=[(0,l.eW)("æ¸…é™¤æ‰€æœ‰ MFA è®¾å¤‡")]))),_:1},8,["onClick","loading"]),(0,l.bF)(o,{type:"danger",onClick:s.deleteApiKey,loading:n.deleteApiKeyLoading},{default:(0,l.k6)((()=>a[24]||(a[24]=[(0,l.eW)("æ¸…é™¤æ‰€æœ‰ API Key")]))),_:1},8,["onClick","loading"]),(0,l.bF)(o,{type:"warning",onClick:s.resetPassword,loading:n.resetPasswordLoading},{default:(0,l.k6)((()=>a[25]||(a[25]=[(0,l.eW)("é‡ç½®å¯†ç ")]))),_:1},8,["onClick","loading"]),(0,l.bF)(k,{"label-position":"top",style:{"margin-top":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(f,{label:"é‚®ç®±"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:n.UpdateUserParams.email,"onUpdate:modelValue":a[1]||(a[1]=e=>n.UpdateUserParams.email=e),placeholder:"é‚®ç®±",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(f,{label:"dbUserName"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:n.UpdateUserParams.dbUserName,"onUpdate:modelValue":a[2]||(a[2]=e=>n.UpdateUserParams.dbUserName=e),placeholder:"dbUserName",clearable:""},null,8,["modelValue"])])),_:1}),(0,l.bF)(f,{label:"æè¿°"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:n.UpdateUserParams.description,"onUpdate:modelValue":a[3]||(a[3]=e=>n.UpdateUserParams.description=e),placeholder:"æè¿°",type:"textarea",rows:"6",clearable:""},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Lk)("div",ye,[(0,l.bF)(o,{type:"primary",onClick:s.updateUserInfo,loading:n.updateUserInfoLoading},{default:(0,l.k6)((()=>a[26]||(a[26]=[(0,l.eW)("ä¿®æ”¹")]))),_:1},8,["onClick","loading"])]),(0,l.bF)(y,{title:"JSON æ•°æ®",modelValue:n.jsonDialogVisible,"onUpdate:modelValue":a[4]||(a[4]=e=>n.jsonDialogVisible=e),onClose:a[5]||(a[5]=e=>n.jsonDialogVisible=!1)},{default:(0,l.k6)((()=>[(0,l.Lk)("pre",ve,(0,c.v_)(n.jsonData),1)])),_:1},8,["modelValue"])])),_:1},8,["title","modelValue"]),(0,l.bF)(y,{modelValue:n.updateCfgDialog,"onUpdate:modelValue":a[11]||(a[11]=e=>n.updateCfgDialog=e),title:"ä¿®æ”¹é…ç½®åç§°",width:"30%",onClose:a[12]||(a[12]=e=>n.updateCfgDialog=!1)},{footer:(0,l.k6)((()=>[(0,l.Lk)("div",Ce,[(0,l.bF)(o,{type:"info",onClick:a[9]||(a[9]=e=>n.updateCfgDialog=!1)},{default:(0,l.k6)((()=>a[27]||(a[27]=[(0,l.eW)(" å–æ¶ˆ ")]))),_:1}),(0,l.bF)(o,{type:"primary",onClick:a[10]||(a[10]=e=>s.updateOciCfgName()),loading:n.updateCfgLoading},{default:(0,l.k6)((()=>a[28]||(a[28]=[(0,l.eW)(" ä¿®æ”¹ ")]))),_:1},8,["loading"])])])),default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:n.updateCfgParams.updateCfgName,"onUpdate:modelValue":a[8]||(a[8]=e=>n.updateCfgParams.updateCfgName=e),placeholder:"è¯·è¾“å…¥è‡ªå®šä¹‰é…ç½®åç§°ï¼Œä¾‹ï¼šè¿™æ˜¯æˆ‘çš„é¦–å°”",clearable:""},null,8,["modelValue"])])),_:1},8,["modelValue"]),(0,l.bF)(y,{modelValue:n.updatePwdExDialog,"onUpdate:modelValue":a[16]||(a[16]=e=>n.updatePwdExDialog=e),title:"ä¿®æ”¹ç™»å½•å¯†ç è¿‡æœŸæ—¶é—´",width:"30%",onClose:a[17]||(a[17]=e=>n.updatePwdExDialog=!1)},{footer:(0,l.k6)((()=>[(0,l.Lk)("div",Ie,[(0,l.bF)(o,{type:"info",onClick:a[14]||(a[14]=e=>n.updatePwdExDialog=!1)},{default:(0,l.k6)((()=>a[30]||(a[30]=[(0,l.eW)(" å–æ¶ˆ ")]))),_:1}),(0,l.bF)(o,{type:"primary",onClick:a[15]||(a[15]=e=>s.updateOciPwdEx()),loading:n.updatePwdExLoading},{default:(0,l.k6)((()=>a[31]||(a[31]=[(0,l.eW)(" ä¿®æ”¹ ")]))),_:1},8,["loading"])])])),default:(0,l.k6)((()=>[(0,l.bF)(v,{modelValue:n.updatePwdExParams.passwordExpiresAfter,"onUpdate:modelValue":a[13]||(a[13]=e=>n.updatePwdExParams.passwordExpiresAfter=e),style:{width:"100%"},min:0,max:99999},{suffix:(0,l.k6)((()=>a[29]||(a[29]=[(0,l.Lk)("span",null,"å¤©",-1)]))),_:1},8,["modelValue"]),a[32]||(a[32]=(0,l.Lk)("div",{style:{"margin-top":"10px",color:"#666","font-size":"13px"}}," è®¾ç½®å¯†ç åœ¨å¤šå°‘å¤©åè¿‡æœŸï¼Œå€¼ä¸º 0 è¡¨ç¤ºå¯†ç æ°¸ä¹…æœ‰æ•ˆã€‚ ",-1))])),_:1},8,["modelValue"])],64)}var Ve={data(){return{updateCfgParams:{cfgId:"",updateCfgName:""},updatePwdExParams:{cfgId:"",passwordExpiresAfter:0},updateCfgDialog:!1,updatePwdExDialog:!1,updateCfgLoading:!1,updatePwdExLoading:!1,loading:!0,deleteMfaDeviceLoading:!1,deleteApiKeyLoading:!1,resetPasswordLoading:!1,updateUserInfoLoading:!1,showEdit:!1,username:"",ociCfgId:"",total:0,GetTenantUserListPageParams:{ociCfgId:"",region:"",cleanReLaunch:!1},tenantInfo:{id:"xxxxxxxxxxxx",name:"yohann",description:"xxxx",homeRegionKey:"homeRegionKey",upiIdcsCompatibilityLayerEndpoint:"upiIdcsCompatibilityLayerEndpoint",regions:["tag1","tag2","tag3"],creatTime:"",passwordExpiresAfter:null,userList:[]},UpdateUserId:"",UpdateUserName:"",jsonDialogVisible:!1,jsonData:"",UpdateUserParams:{ociCfgId:"",userId:"",email:"",dbUserName:"",description:""}}},mounted(){this.ociCfgId=this.$route.query.cfgId,this.username=this.$route.query.username,this.GetTenantUserListPageParams.ociCfgId=this.ociCfgId,this.getTenantInfo()},methods:{reloadTenantInfo(){this.GetTenantUserListPageParams.cleanReLaunch=!0,this.loading=!0,this.getTenantInfo(),this.GetTenantUserListPageParams.cleanReLaunch=!1},async getTenantInfo(){this.loading=!0,this.GetTenantUserListPageParams.ociCfgId=this.ociCfgId,await this.$axios.post("/tenant/tenantInfo",{...this.GetTenantUserListPageParams}).then((e=>{e.data.success?this.tenantInfo=e.data.data:(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})),this.loading=!1},handleUpdateUsername(){this.updateCfgDialog=!0,this.updateCfgParams.cfgId=this.ociCfgId,this.updateCfgParams.updateCfgName=this.username},handleUpdatePwdEx(){this.updatePwdExDialog=!0,this.updatePwdExParams.cfgId=this.ociCfgId,this.updatePwdExParams.passwordExpiresAfter=this.tenantInfo.passwordExpiresAfter},async updateOciCfgName(){const e=await(0,O.Z)("ç¡®å®šè¦ä¿®æ”¹é…ç½®åç§°å—ï¼Ÿ","ä¿®æ”¹é…ç½®åç§°");e?(this.updateCfgLoading=!0,await this.$axios.post("/oci/updateCfgName",{...this.updateCfgParams}).then((e=>{e.data.success?((0,E.nk)({message:"ä¿®æ”¹é…ç½®åç§°æˆåŠŸ",type:"success",duration:2e3}),this.username=this.updateCfgParams.updateCfgName):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3}),this.updateCfgLoading=!1,this.updateCfgDialog=!1,this.reloadTenantInfo()})).catch((e=>{console.error("Error:",e)}))):this.$message.info("å·²å–æ¶ˆ")},async updateOciPwdEx(){const e=await(0,O.Z)("ç¡®å®šè¦ä¿®æ”¹ç™»å½•å¯†ç è¿‡æœŸæ—¶é—´å—ï¼Ÿ","ä¿®æ”¹ç™»å½•å¯†ç è¿‡æœŸæ—¶é—´");e?(this.updatePwdExLoading=!0,await this.$axios.post("/tenant/updatePwdEx",{...this.updatePwdExParams}).then((e=>{e.data.success?(0,E.nk)({message:"ä¿®æ”¹ç™»å½•å¯†ç è¿‡æœŸæ—¶é—´æˆåŠŸ",type:"success",duration:2e3}):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3}),this.updatePwdExLoading=!1,this.updatePwdExDialog=!1,this.reloadTenantInfo()})).catch((e=>{console.error("Error:",e)}))):this.$message.info("å·²å–æ¶ˆ")},handleEdit(e){this.UpdateUserId=e.id,this.UpdateUserName=e.name,this.jsonData=e.jsonStr,this.UpdateUserParams.email=e.email,this.UpdateUserParams.dbUserName=e.email,this.UpdateUserParams.description=e.description,this.showEdit=!0},async deleteUser(e){const a=window.confirm("ç¡®å®šè¦åˆ é™¤è¯¥ç”¨æˆ·å—ï¼Ÿï¼ˆğŸ””æ³¨æ„ï¼šå¯èƒ½ä¼šåˆ é™¤å¤±è´¥ï¼‰");a?await this.$axios.post("/tenant/deleteUser",{ociCfgId:this.ociCfgId,userId:e.id}).then((e=>{e.data.success?(0,E.nk)({message:e.data.msg,type:"success",duration:2e3}):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.reloadTenantInfo()})):this.$message.info("å·²å–æ¶ˆ")},async deleteMfaDevice(){const e=window.confirm("ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰ MFA è®¾å¤‡å—");e?(this.deleteMfaDeviceLoading=!0,await this.$axios.post("/tenant/deleteMfaDevice",{ociCfgId:this.ociCfgId,userId:this.UpdateUserId}).then((e=>{e.data.success?(0,E.nk)({message:e.data.msg,type:"success",duration:2e3}):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})),this.deleteMfaDeviceLoading=!1):this.$message.info("å·²å–æ¶ˆ")},async deleteApiKey(){const e=window.confirm("ç¡®å®šè¦æ¸…é™¤æ‰€æœ‰ API Keyå—");e?(this.deleteApiKeyLoading=!0,await this.$axios.post("/tenant/deleteApiKey",{ociCfgId:this.ociCfgId,userId:this.UpdateUserId}).then((e=>{e.data.success?(0,E.nk)({message:e.data.msg,type:"success",duration:2e3}):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})),this.deleteApiKeyLoading=!1):this.$message.info("å·²å–æ¶ˆ")},async resetPassword(){const e=window.confirm("ç¡®å®šè¦é‡ç½®è¯¥ç”¨æˆ·çš„å¯†ç å—");e?(this.resetPasswordLoading=!0,await this.$axios.post("/tenant/resetPassword",{ociCfgId:this.ociCfgId,userId:this.UpdateUserId}).then((e=>{e.data.success?(0,E.nk)({message:e.data.msg,type:"success",duration:2e3}):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})),this.resetPasswordLoading=!1):this.$message.info("å·²å–æ¶ˆ")},async updateUserInfo(){const e=window.confirm("ç¡®å®šè¦æ›´æ–°è¯¥ç”¨æˆ·ä¿¡æ¯å—");e?(this.updateUserInfoLoading=!0,this.UpdateUserParams.ociCfgId=this.ociCfgId,this.UpdateUserParams.userId=this.UpdateUserId,await this.$axios.post("/tenant/updateUserInfo",{...this.UpdateUserParams}).then((e=>{e.data.success?(0,E.nk)({message:e.data.msg,type:"success",duration:2e3}):(0,E.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})),this.updateUserInfoLoading=!1):this.$message.info("å·²å–æ¶ˆ")}}};const Fe=(0,A.A)(Ve,[["render",Pe],["__scopeId","data-v-4b5efe6a"]]);var _e=Fe,Le={components:{OciInstanceInfo:z,BootVolumeList:H,VcnList:se,TrafficStatistics:he,OciTenant:_e},mounted(){this.cfgId=this.$route.query.cfgId,this.username=this.$route.query.username},data(){return{activeTab:"OciTenant",cfgId:"",username:""}},methods:{handleTabClick(e){console.log(`Switched to tab: ${e.name}`)}}};const xe=(0,A.A)(Le,[["render",r]]);var we=xe},20640:function(e,a,t){t.r(a),t.d(a,{default:function(){return p}});var l=t(56768),i=t(24232);const n={key:0},s={style:{"overflow-x":"auto"}};function o(e,a,t,o,d,u){const r=(0,l.g2)("el-button"),c=(0,l.g2)("el-switch"),p=(0,l.g2)("el-form-item"),g=(0,l.g2)("el-option"),m=(0,l.g2)("el-select"),b=(0,l.g2)("el-input"),h=(0,l.g2)("el-form"),f=(0,l.g2)("el-dialog"),k=(0,l.g2)("el-divider"),y=(0,l.g2)("el-table-column"),v=(0,l.g2)("el-tag"),C=(0,l.g2)("el-table"),I=(0,l.g2)("el-pagination"),P=(0,l.gN)("loading");return(0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.bF)(r,{type:"primary",onClick:a[0]||(a[0]=e=>d.inboundDialogVisible=!0)},{default:(0,l.k6)((()=>a[28]||(a[28]=[(0,l.eW)("æ·»åŠ å…¥ç«™è§„åˆ™")]))),_:1}),(0,l.bF)(f,{modelValue:d.inboundDialogVisible,"onUpdate:modelValue":a[11]||(a[11]=e=>d.inboundDialogVisible=e),title:"æ·»åŠ å…¥ç«™è§„åˆ™",width:"50%"},{footer:(0,l.k6)((()=>[(0,l.bF)(r,{onClick:a[10]||(a[10]=e=>d.inboundDialogVisible=!1)},{default:(0,l.k6)((()=>a[29]||(a[29]=[(0,l.eW)("å–æ¶ˆ")]))),_:1}),(0,l.bF)(r,{type:"primary",onClick:u.addInboundRule,loading:d.addIngressLoading},{default:(0,l.k6)((()=>a[30]||(a[30]=[(0,l.eW)("æ·»åŠ å…¥ç«™è§„åˆ™")]))),_:1},8,["onClick","loading"])])),default:(0,l.k6)((()=>[(0,l.bF)(h,{"label-width":"120px"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{label:"æ— çŠ¶æ€"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{modelValue:d.inboundRule.isStateless,"onUpdate:modelValue":a[1]||(a[1]=e=>d.inboundRule.isStateless=e),"active-text":"å¯ç”¨","inactive-text":"ç¦ç”¨"},null,8,["modelValue"])])),_:1}),(0,l.bF)(p,{label:"æºç±»å‹"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{modelValue:d.inboundRule.sourceType,"onUpdate:modelValue":a[2]||(a[2]=e=>d.inboundRule.sourceType=e),placeholder:"è¯·é€‰æ‹©"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{label:"CIDR",value:"CIDR_BLOCK"}),(0,l.bF)(g,{label:"æœåŠ¡",value:"SERVICE_CIDR_BLOCK"})])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(p,{label:"æº CIDR"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.inboundRule.source,"onUpdate:modelValue":a[3]||(a[3]=e=>d.inboundRule.source=e),placeholder:"è¯·è¾“å…¥ CIDRï¼Œå¦‚ 10.0.0.0/24"},null,8,["modelValue"])])),_:1}),(0,l.bF)(p,{label:"IP åè®®"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{modelValue:d.inboundRule.protocol,"onUpdate:modelValue":a[4]||(a[4]=e=>d.inboundRule.protocol=e),placeholder:"è¯·é€‰æ‹©"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.protocols,(e=>((0,l.uX)(),(0,l.Wv)(g,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),"1"===d.inboundRule.protocol?((0,l.uX)(),(0,l.Wv)(p,{key:0,label:"ç±»å‹"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.inboundRule.icmpOptions.type,"onUpdate:modelValue":a[5]||(a[5]=e=>d.inboundRule.icmpOptions.type=e),placeholder:"å…¨éƒ¨"},null,8,["modelValue"])])),_:1})):(0,l.Q3)("",!0),"1"===d.inboundRule.protocol?((0,l.uX)(),(0,l.Wv)(p,{key:1,label:"ä»£ç "},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.inboundRule.icmpOptions.code,"onUpdate:modelValue":a[6]||(a[6]=e=>d.inboundRule.icmpOptions.code=e),placeholder:"å…¨éƒ¨"},null,8,["modelValue"])])),_:1})):(0,l.Q3)("",!0),["6","17"].includes(d.inboundRule.protocol)?((0,l.uX)(),(0,l.Wv)(p,{key:2,label:"æºç«¯å£èŒƒå›´"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.inboundRule.sourcePort,"onUpdate:modelValue":a[7]||(a[7]=e=>d.inboundRule.sourcePort=e),placeholder:"ç¤ºä¾‹: 80ã€20-22"},null,8,["modelValue"])])),_:1})):(0,l.Q3)("",!0),["6","17"].includes(d.inboundRule.protocol)?((0,l.uX)(),(0,l.Wv)(p,{key:3,label:"ç›®æ ‡ç«¯å£èŒƒå›´"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.inboundRule.destinationPort,"onUpdate:modelValue":a[8]||(a[8]=e=>d.inboundRule.destinationPort=e),placeholder:"ç¤ºä¾‹: 80ã€20-22"},null,8,["modelValue"])])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(p,{label:"è¯´æ˜"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.inboundRule.description,"onUpdate:modelValue":a[9]||(a[9]=e=>d.inboundRule.description=e),type:"textarea",maxlength:"255","show-word-limit":"",placeholder:"æœ€å¤š 255 ä¸ªå­—ç¬¦"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(r,{type:"primary",onClick:a[12]||(a[12]=e=>d.outboundDialogVisible=!0)},{default:(0,l.k6)((()=>a[31]||(a[31]=[(0,l.eW)("æ·»åŠ å‡ºç«™è§„åˆ™")]))),_:1}),(0,l.bF)(f,{modelValue:d.outboundDialogVisible,"onUpdate:modelValue":a[23]||(a[23]=e=>d.outboundDialogVisible=e),title:"æ·»åŠ å‡ºç«™è§„åˆ™",width:"50%"},{footer:(0,l.k6)((()=>[(0,l.bF)(r,{onClick:a[22]||(a[22]=e=>d.outboundDialogVisible=!1)},{default:(0,l.k6)((()=>a[32]||(a[32]=[(0,l.eW)("å–æ¶ˆ")]))),_:1}),(0,l.bF)(r,{type:"primary",onClick:u.addOutboundRule,loading:d.addEgressLoading},{default:(0,l.k6)((()=>a[33]||(a[33]=[(0,l.eW)("æ·»åŠ å‡ºç«™è§„åˆ™")]))),_:1},8,["onClick","loading"])])),default:(0,l.k6)((()=>[(0,l.bF)(h,{"label-width":"120px"},{default:(0,l.k6)((()=>[(0,l.bF)(p,{label:"æ— çŠ¶æ€"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{modelValue:d.outboundRule.isStateless,"onUpdate:modelValue":a[13]||(a[13]=e=>d.outboundRule.isStateless=e),"active-text":"å¯ç”¨","inactive-text":"ç¦ç”¨"},null,8,["modelValue"])])),_:1}),(0,l.bF)(p,{label:"ç›®çš„åœ°ç±»å‹"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{modelValue:d.outboundRule.destinationType,"onUpdate:modelValue":a[14]||(a[14]=e=>d.outboundRule.destinationType=e),placeholder:"è¯·é€‰æ‹©"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{label:"CIDR",value:"CIDR_BLOCK"}),(0,l.bF)(g,{label:"æœåŠ¡",value:"SERVICE_CIDR_BLOCK"})])),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(p,{label:"ç›®çš„åœ° CIDR"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.outboundRule.destination,"onUpdate:modelValue":a[15]||(a[15]=e=>d.outboundRule.destination=e),placeholder:"è¯·è¾“å…¥ CIDRï¼Œå¦‚ 10.0.0.0/24"},null,8,["modelValue"])])),_:1}),(0,l.bF)(p,{label:"IP åè®®"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{modelValue:d.outboundRule.protocol,"onUpdate:modelValue":a[16]||(a[16]=e=>d.outboundRule.protocol=e),placeholder:"è¯·é€‰æ‹©"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(d.protocols,(e=>((0,l.uX)(),(0,l.Wv)(g,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),"1"===d.outboundRule.protocol?((0,l.uX)(),(0,l.Wv)(p,{key:0,label:"ç±»å‹"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.outboundRule.icmpOptions.type,"onUpdate:modelValue":a[17]||(a[17]=e=>d.outboundRule.icmpOptions.type=e),placeholder:"å…¨éƒ¨"},null,8,["modelValue"])])),_:1})):(0,l.Q3)("",!0),"1"===d.outboundRule.protocol?((0,l.uX)(),(0,l.Wv)(p,{key:1,label:"ä»£ç "},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.outboundRule.icmpOptions.code,"onUpdate:modelValue":a[18]||(a[18]=e=>d.outboundRule.icmpOptions.code=e),placeholder:"å…¨éƒ¨"},null,8,["modelValue"])])),_:1})):(0,l.Q3)("",!0),["6","17"].includes(d.outboundRule.protocol)?((0,l.uX)(),(0,l.Wv)(p,{key:2,label:"æºç«¯å£èŒƒå›´"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.outboundRule.sourcePort,"onUpdate:modelValue":a[19]||(a[19]=e=>d.outboundRule.sourcePort=e),placeholder:"ç¤ºä¾‹: 80ã€20-22"},null,8,["modelValue"])])),_:1})):(0,l.Q3)("",!0),["6","17"].includes(d.outboundRule.protocol)?((0,l.uX)(),(0,l.Wv)(p,{key:3,label:"ç›®æ ‡ç«¯å£èŒƒå›´"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.outboundRule.destinationPort,"onUpdate:modelValue":a[20]||(a[20]=e=>d.outboundRule.destinationPort=e),placeholder:"ç¤ºä¾‹: 80ã€20-22"},null,8,["modelValue"])])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(p,{label:"è¯´æ˜"},{default:(0,l.k6)((()=>[(0,l.bF)(b,{modelValue:d.outboundRule.description,"onUpdate:modelValue":a[21]||(a[21]=e=>d.outboundRule.description=e),type:"textarea",maxlength:"255","show-word-limit":"",placeholder:"æœ€å¤š 255 ä¸ªå­—ç¬¦"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,l.bF)(k,{class:"divider"}),e.showSecurityRuleList?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",n,[(0,l.bF)(r,{type:"success",style:{"margin-bottom":"20px"},onClick:u.reloadSecurityRuleList},{default:(0,l.k6)((()=>a[34]||(a[34]=[(0,l.eW)(" åˆ·æ–° ")]))),_:1},8,["onClick"]),(0,l.bF)(b,{modelValue:d.GetSecurityRuleListPageParams.keyword,"onUpdate:modelValue":a[24]||(a[24]=e=>d.GetSecurityRuleListPageParams.keyword=e),placeholder:"æ¨¡ç³Šæœç´¢",onInput:u.getSecurityRuleList,clearable:"","prefix-icon":"Search",style:{"margin-left":"20px",width:"200px","margin-bottom":"20px"}},null,8,["modelValue","onInput"]),(0,l.bF)(m,{modelValue:d.GetSecurityRuleListPageParams.type,"onUpdate:modelValue":a[25]||(a[25]=e=>d.GetSecurityRuleListPageParams.type=e),onChange:u.getSecurityRuleList,placeholder:"å¼€æœºä»»åŠ¡çŠ¶æ€ç­›é€‰",style:{"margin-left":"20px",width:"180px","margin-bottom":"20px"}},{default:(0,l.k6)((()=>[(0,l.bF)(g,{label:"å…¥ç«™è§„åˆ™",value:0}),(0,l.bF)(g,{label:"å‡ºç«™è§„åˆ™",value:1})])),_:1},8,["modelValue","onChange"]),(0,l.bF)(r,{type:"danger",onClick:u.batchRemove,disabled:!d.batchSelected.length,style:{"margin-left":"20px","margin-bottom":"20px"}},{default:(0,l.k6)((()=>a[35]||(a[35]=[(0,l.eW)(" æ‰¹é‡åˆ é™¤ ")]))),_:1},8,["onClick","disabled"]),(0,l.Lk)("div",s,[(0,l.bo)(((0,l.uX)(),(0,l.Wv)(C,{data:d.ruleList,style:{width:"100%","min-width":"800px"},onSelectionChange:u.handleSelectionChange},{default:(0,l.k6)((()=>[(0,l.bF)(y,{type:"selection",width:"35"}),(0,l.bF)(y,{fixed:"",prop:"isStateless",label:"æ— çŠ¶æ€"}),(0,l.bF)(y,{label:"æº"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(v,{type:"primary"},{default:(0,l.k6)((()=>[(0,l.eW)((0,i.v_)(e.sourceOrDestination),1)])),_:2},1024)])),_:1}),(0,l.bF)(y,{prop:"protocol",label:"åè®®"}),(0,l.bF)(y,{prop:"sourcePort",label:"æºç«¯å£èŒƒå›´"}),(0,l.bF)(y,{prop:"destinationPort",label:"ç›®çš„åœ°ç«¯å£èŒƒå›´"}),(0,l.bF)(y,{prop:"typeAndCode",label:"ç±»å‹å’Œä»£ç "}),(0,l.bF)(y,{prop:"description",label:"è¯´æ˜"}),(0,l.bF)(y,{fixed:"right",label:"æ“ä½œ",width:"150"},{default:(0,l.k6)((({row:e})=>[(0,l.bF)(r,{onClick:a=>u.handleRemove(e),type:"danger",link:""},{default:(0,l.k6)((()=>a[36]||(a[36]=[(0,l.eW)(" åˆ é™¤ ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"])),[[P,d.loading]])]),(0,l.bF)(I,{onCurrentChange:u.handlePageChange,onSizeChange:u.handleSizeChange,"current-page":d.GetSecurityRuleListPageParams.currentPage,"onUpdate:currentPage":a[26]||(a[26]=e=>d.GetSecurityRuleListPageParams.currentPage=e),"page-size":d.GetSecurityRuleListPageParams.pageSize,"onUpdate:pageSize":a[27]||(a[27]=e=>d.GetSecurityRuleListPageParams.pageSize=e),"page-sizes":[5,10,20,50],total:d.total,layout:"total, sizes, prev, pager, next, jumper",style:{"margin-top":"20px"}},null,8,["onCurrentChange","onSizeChange","current-page","page-size","total"])]))],64)}t(44114),t(81454);var d=t(51219),u={props:{ociCfgId:String,username:String,vcnId:String,vcnName:String},mounted(){this.getSecurityRuleList()},data(){return{total:0,batchSelected:[],loading:!0,addIngressLoading:!1,addEgressLoading:!1,inboundDialogVisible:!1,outboundDialogVisible:!1,inboundRule:{isStateless:!1,sourceType:"",source:"",protocol:"",icmpOptions:{code:"",type:""},sourcePort:"",destinationPort:"",description:""},outboundRule:{isStateless:!1,destinationType:"",destination:"",protocol:"",icmpOptions:{code:"",type:""},sourcePort:"",destinationPort:"",description:""},ruleList:[{id:"",isStateless:!1,protocol:"",sourceOrDestination:"",sourcePort:"",destinationPort:"",typeAndCode:"",description:""}],GetSecurityRuleListPageParams:{keyword:"",currentPage:1,pageSize:10,cleanReLaunch:!1,ociCfgId:"",vcnId:"",type:0},RemoveSecurityRuleParams:{ociCfgId:"",vcnId:"",type:0,ruleIds:[]},protocols:[{label:"æ‰€æœ‰åè®®",value:"all"},{label:"ICMP",value:"1"},{label:"TCP",value:"6"},{label:"UDP",value:"17"},{label:"3PC",value:"34"},{label:"A/N",value:"107"},{label:"AH",value:"51"},{label:"ARGUS",value:"13"},{label:"ARIS",value:"104"},{label:"AX.25",value:"93"},{label:"ä»»æ„ 0 è·ƒç‚¹åè®®",value:"114"},{label:"ä»»ä½•åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ",value:"68"},{label:"ä»»ä½•ä¸»æœºå†…éƒ¨åè®®",value:"61"},{label:"ä»»ä½•æœ¬åœ°ç½‘ç»œ",value:"63"},{label:"ä»»ä½•ä¸“ç”¨åŠ å¯†æ–¹æ¡ˆ",value:"99"},{label:"BBN-RCC-MON",value:"10"},{label:"BNA",value:"49"},{label:"BR-SAT-MON",value:"76"},{label:"CBT",value:"7"},{label:"CFTP",value:"62"},{label:"CHAOS",value:"16"},{label:"CPHB",value:"73"},{label:"CPNX",value:"72"},{label:"CRTP",value:"126"},{label:"CRUDP",value:"127"},{label:"Compaq-Peer",value:"110"},{label:"DCCP",value:"33"},{label:"DCN-MEAS",value:"19"},{label:"DDP",value:"37"},{label:"DDX",value:"116"},{label:"DGP",value:"86"},{label:"EGP",value:"8"},{label:"EIGRP",value:"88"},{label:"EMCON",value:"14"},{label:"ENCAP",value:"98"},{label:"ESP",value:"50"},{label:"ETHERIP",value:"97"},{label:"FC",value:"133"},{label:"FIRE",value:"125"},{label:"GGP",value:"3"},{label:"GMTP",value:"100"},{label:"GRE",value:"47"},{label:"HIP",value:"139"},{label:"HMP",value:"20"},{label:"HOPOPT",value:"0"},{label:"I-NLSP",value:"52"},{label:"IATP",value:"117"},{label:"IDPR",value:"35"},{label:"IDPR-CMTP",value:"38"},{label:"IDRP",value:"45"},{label:"IFMP",value:"101"},{label:"IGMP",value:"2"},{label:"IGP",value:"9"},{label:"IL",value:"40"},{label:"IP-in-IP",value:"4"},{label:"IPCU",value:"71"},{label:"IPComp",value:"108"},{label:"IPIP",value:"94"},{label:"IPLT",value:"129"},{label:"IPPC",value:"67"},{label:"IPX-in-IP",value:"111"},{label:"IPv6",value:"41"},{label:"IPv6-Frag",value:"44"},{label:"IPv6-ICMP",value:"58"},{label:"IPv6-NoNxt",value:"59"},{label:"IPv6-Opts",value:"60"},{label:"IPv6-Route",value:"43"},{label:"IRTP",value:"28"},{label:"IS-IS",value:"124"},{label:"ISO-IP",value:"80"},{label:"ISO-TP4",value:"29"},{label:"KRYPTOLAN",value:"65"},{label:"L2TP",value:"115"},{label:"LARP",value:"91"},{label:"LEAF-1",value:"25"},{label:"LEAF-2",value:"26"},{label:"Manet",value:"138"},{label:"MERIT-INP",value:"32"},{label:"MFE-NSP",value:"31"},{label:"MHRP",value:"48"},{label:"MICP",value:"95"},{label:"MOBILE",value:"55"},{label:"MPLS-in-IP",value:"137"},{label:"MTP",value:"92"},{label:"MUX",value:"18"},{label:"Mobility",value:"135"},{label:"NARP",value:"54"},{label:"NETBLT",value:"30"},{label:"NSFNET-IGP",value:"85"},{label:"NVP-II",value:"11"},{label:"OSPF",value:"89"},{label:"PGM",value:"113"},{label:"PIM",value:"103"},{label:"PIPE",value:"131"},{label:"PNNI",value:"102"},{label:"PRM",value:"21"},{label:"PTP",value:"123"},{label:"PUP",value:"12"},{label:"PVP",value:"75"},{label:"QNX",value:"106"},{label:"å¯é çš„æ•°æ®åè®®",value:"27"},{label:"ROHC",value:"142"},{label:"RSVP",value:"46"},{label:"RSVP-E2E-IGNORE",value:"134"},{label:"RVD",value:"66"},{label:"SAT-EXPAK",value:"64"},{label:"SAT-MON",value:"69"},{label:"SCC-SP",value:"96"},{label:"SCPS",value:"105"},{label:"SCTP",value:"132"},{label:"SDRP",value:"42"},{label:"SECURE-VMTP",value:"82"},{label:"SKIP",value:"57"},{label:"SM",value:"122"},{label:"SMP",value:"121"},{label:"SNP",value:"109"},{label:"SPS",value:"130"},{label:"SRP",value:"119"},{label:"SSCOPMCE",value:"128"},{label:"ST",value:"5"},{label:"STP",value:"118"},{label:"SUN-ND",value:"77"},{label:"SWIPE",value:"53"},{label:"Shim6",value:"140"},{label:"Sprite-RPC",value:"90"},{label:"TCF",value:"87"},{label:"TLSP",value:"56"},{label:"TP++",value:"39"},{label:"TRUNK-1",value:"23"},{label:"TRUNK-2",value:"24"},{label:"TTP/IPTM",value:"84"},{label:"UDPLite",value:"136"}]}},methods:{async reloadSecurityRuleList(){this.GetSecurityRuleListPageParams.cleanReLaunch=!0,this.loading=!0,this.getSecurityRuleList(),this.GetSecurityRuleListPageParams.cleanReLaunch=!1},async getSecurityRuleList(){this.loading=!0,this.GetSecurityRuleListPageParams.ociCfgId=this.ociCfgId,this.GetSecurityRuleListPageParams.vcnId=this.vcnId,await this.$axios.post("/securityRule/page",{...this.GetSecurityRuleListPageParams}).then((e=>{e.data.success?(this.ruleList=e.data.data.records,this.total=e.data.data.total):(0,d.nk)({message:e.data.msg,type:"error",duration:2e3}),this.loading=!1})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.batchSelected=[]}))},handleRemove(e){this.batchSelected.push(e),this.batchRemove()},async batchRemove(){const e=window.confirm("ç¡®å®šè¦åˆ é™¤å®‰å…¨è§„åˆ™å—");e?(this.loading=!0,this.RemoveSecurityRuleParams.ociCfgId=this.ociCfgId,this.RemoveSecurityRuleParams.vcnId=this.vcnId,this.RemoveSecurityRuleParams.type=this.GetSecurityRuleListPageParams.type,this.RemoveSecurityRuleParams.ruleIds=this.batchSelected.map((e=>e.id)),await this.$axios.post("/securityRule/remove",{...this.RemoveSecurityRuleParams}).then((e=>{e.data.success?((0,d.nk)({message:"åˆ é™¤è§„åˆ™æˆåŠŸ",type:"success",duration:2e3}),this.reloadSecurityRuleList(),this.batchSelected=[],this.RemoveSecurityRuleParams.ruleIds=[]):(0,d.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)}))):this.$message.info("å·²å–æ¶ˆ")},async addInboundRule(){this.addIngressLoading=!0,await this.$axios.post("/securityRule/addIngress",{ociCfgId:this.ociCfgId,vcnId:this.vcnId,inboundRule:this.inboundRule}).then((e=>{e.data.success?((0,d.nk)({message:"æ·»åŠ å…¥ç«™è§„åˆ™æˆåŠŸ",type:"success",duration:2e3}),this.inboundDialogVisible=!1,this.reloadSecurityRuleList()):(0,d.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.addIngressLoading=!1}))},async addOutboundRule(){this.addEgressLoading=!0,await this.$axios.post("/securityRule/addEgress",{ociCfgId:this.ociCfgId,vcnId:this.vcnId,outboundRule:this.outboundRule}).then((e=>{e.data.success?((0,d.nk)({message:"æ·»åŠ å‡ºç«™è§„åˆ™æˆåŠŸ",type:"success",duration:2e3}),this.outboundDialogVisible=!1,this.reloadSecurityRuleList()):(0,d.nk)({message:e.data.msg,type:"error",duration:2e3})})).catch((e=>{console.error("Error:",e)})).finally((()=>{this.addEgressLoading=!1}))},handlePageChange(e){this.GetSecurityRuleListPageParams.currentPage=e,this.getSecurityRuleList()},handleSizeChange(e){this.GetSecurityRuleListPageParams.currentPage=1,this.GetSecurityRuleListPageParams.pageSize=e,this.getSecurityRuleList()},handleSelectionChange(e){this.batchSelected=e}}},r=t(71241);const c=(0,r.A)(u,[["render",o]]);var p=c}}]);
//# sourceMappingURL=963.187c2dfb.js.map