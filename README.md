[ZH](README.md) | [EN](README_EN.md)

# oci-helper

> ä¸€ä¸ªåŸºäº Oracle OCI SDK ğŸ¢ å¼€å‘çš„ web ç«¯å¯è§†åŒ–ç”²éª¨æ–‡äº‘åŠ©æ‰‹ï¼Œç›®å‰å®ç°çš„åŠŸèƒ½æœ‰ï¼šæ‰¹é‡æ·»åŠ å¤šä¸ªç§Ÿæˆ·é…ç½®ã€æ›´æ”¹å®ä¾‹é…ç½®ä»¥åŠå¼•å¯¼å·é…ç½®ã€é™„åŠ ipv6ã€æ ¹æ®å¤šä¸ª CIDR ç½‘æ®µæ›´æ¢å®ä¾‹å…¬å…±IPã€å¤šç§Ÿæˆ·åŒæ—¶æ‰¹é‡æŠ¢æœºã€æ–­ç‚¹ç»­æŠ¢ã€å¤‡ä»½æ¢å¤ã€æ—¥å¿—å®æ—¶æŸ¥çœ‹ã€æ¶ˆæ¯é€šçŸ¥ã€MFAç™»å½•éªŒè¯ç­‰åŠŸèƒ½ã€‚

## æ³¨æ„äº‹é¡¹åŠå…è´£å£°æ˜

- ğŸ”‘å»ºè®®ä½¿ç”¨ä½æƒé™çš„APIï¼Œå‚è€ƒ [@é‡‘ç®æ£’](https://t.me/jin_gubang) çš„æ•™ç¨‹ï¼š[å¦‚ä½•ç”Ÿæˆä½æƒé™API](https://telegra.ph/oralce-api-role-05-05)
- âš ï¸å› å¼€æœºã€æ¢IPé¢‘ç‡è¿‡é«˜è€Œå¯¼è‡´çš„å°å·æœ¬äººæ¦‚ä¸è´Ÿè´£ã€‚
- â¤ï¸å¼€å‘æ­¤é¡¹ç›®çº¯å±ä¸ªäººçˆ±å¥½ï¼Œæ— åé—¨ï¼Œæ”¾å¿ƒä½¿ç”¨ã€‚
- ğŸ”’å¼ºçƒˆå»ºè®®ä¸è¦è£¸HTTPè®¿é—®ï¼Œåº”ä½¿ç”¨Nginxåå‘ä»£ç†é…ç½®HTTPSè®¿é—®ã€‚
- ğŸ”å»ºè®®ä½¿ç”¨å¯†é’¥ç™»å½•æœåŠ¡å™¨ï¼Œé˜²æ­¢æœåŠ¡å™¨è¢«SSHçˆ†ç ´å¯¼è‡´APIæ•°æ®åŠå¯†é’¥æ³„éœ²ã€‚
- ğŸ“ƒè®°å¾—å®šæ—¶æ¸…ç†dockeræ—¥å¿—~

## æ ¸å¿ƒåŠŸèƒ½

1. åŒæ—¶ç®¡ç†å¤šä¸ªç§Ÿæˆ·é…ç½®ä¿¡æ¯ï¼Œæ”¯æŒæ¨¡ç³Šæœç´¢ã€çŠ¶æ€ç­›é€‰ã€‚
2. æ”¯æŒæ›´æ”¹å®ä¾‹é…ç½®ã€å¼•å¯¼å·é…ç½®ã€é™„åŠ ipv6ã€æ”¾è¡Œ**å®‰å…¨åˆ—è¡¨**ç­‰åŠŸèƒ½ã€‚
3. æ ¹æ®å¤šä¸ª**CIDRç½‘æ®µ**æ›´æ¢å®ä¾‹å…¬å…±IPï¼Œé‡åˆ°è¯·æ±‚é¢‘ç¹ç­‰å¼‚å¸¸ä¼šç›´æ¥å¿½ç•¥ï¼Œä¸å½±å“ä¸‹ä¸€æ¬¡æ‰§è¡Œï¼Œç›´è‡³æ›´æ¢åˆ°æŒ‡å®šIPæ®µçš„IPã€‚
4. å¤šç§Ÿæˆ·**åŒæ—¶æ‰¹é‡å¼€æœº**ï¼Œåå°ä¸€ç›´è¿è¡Œï¼Œç›´è‡³å¼€æœºæˆåŠŸã€‚
5. æ”¯æŒ**æ–­ç‚¹ç»­æŠ¢**ï¼Œé…ç½®ä»¥åŠæŠ¢æœºä»»åŠ¡éƒ½ä¿å­˜åœ¨æœ¬åœ°æ•°æ®åº“ï¼ŒæœåŠ¡é‡å¯ä¼šç»§ç»­æ‰§è¡ŒæŠ¢æœºä»»åŠ¡ï¼Œæ— éœ€é‡å¤é…ç½®ã€‚
6. æ”¯æŒå¤šåŒºå·ï¼ˆé…ç½®é¡¹ä»¥`region`åŒºåˆ†ï¼‰ï¼Œä¾‹ï¼šæˆ‘æœ‰ä¸€ä¸ª4åŒºå·ï¼Œåˆ™æ–°å¢4ä¸ªé…ç½®ï¼Œä¿®æ”¹`region`å³å¯ï¼Œå…¶ä»–é…ç½®é¡¹éƒ½ä¸€æ ·ã€‚
7. æ”¯æŒå‰ç«¯é¡µé¢**å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—**ã€‚
8. æ”¯æŒ**åŠ å¯†å¤‡ä»½æ¢å¤**ï¼Œæ–¹ä¾¿æ•°æ®è¿ç§»ã€‚
9. æ”¯æŒ**MFA**ç™»å½•éªŒè¯åŠŸèƒ½ã€‚

## ä¸€é”® docker-compose éƒ¨ç½²æˆ–æ›´æ–°

- å®‰è£…å®Œæˆåæµè§ˆå™¨ç›´æ¥`ip:8818`å³å¯è®¿é—®ï¼ˆå»ºè®®ä¹‹åé€šè¿‡httpsè®¿é—®ï¼‰ï¼Œè´¦å·å¯†ç é»˜è®¤éƒ½æ˜¯ï¼š`yohann`ï¼Œ
å¦‚éœ€ä¿®æ”¹è¯·æ›´æ”¹`/app/oci-helper/application.yml`ä¸­çš„é…ç½®å¹¶æ‰§è¡Œ`docker restart oci-helper`é‡å¯dockerå®¹å™¨å³å¯ã€‚
- `å¯†é’¥æ–‡ä»¶.pem`å»ºè®®ä½¿ç”¨è‹±æ–‡å‘½åï¼Œå¹¶å…¨éƒ¨ä¸Šä¼ åˆ°`/app/oci-helper/keys`ç›®å½•ä¸‹ï¼Œæ–°å¢ocié…ç½®æ—¶åªéœ€è¾“å…¥`å¯†é’¥æ–‡ä»¶åç§°.pem`å³å¯ï¼Œé»˜è®¤ä¼šåŠ ä¸Šè¿™ä¸ªç›®å½•å…¨è·¯å¾„ã€‚
- å¦‚éœ€æŸ¥çœ‹å®Œæ•´æ—¥å¿—ï¼Œæ‰§è¡Œï¼š`docker logs oci-helper  >>  /app/oci-helper/oci-helper.log`å¯¼å‡ºæ—¥å¿—æ–‡ä»¶è‡ªè¡ŒæŸ¥çœ‹ã€‚

```bash
bash <(wget -qO- https://github.com/Yohann0617/oci-helper/releases/latest/download/sh_oci-helper_install.sh)
```

æ­¤å‘½ä»¤ä¹Ÿå¯ä»¥ç”¨äºæ›´æ–°é•œåƒå¹¶é‡å¯å®¹å™¨ï¼Œä¸ä¼šåˆ é™¤å·²æœ‰çš„é…ç½®ã€‚

### ğŸ“ƒæ›´æ–°æ—¥å¿—

> 2024å¹´11æœˆ30æ—¥â€”â€”æ•°æ®åº“æ–°å¢äº†ä¸€å¼ è¡¨ï¼ŒTGã€é’‰é’‰æ¶ˆæ¯é€šçŸ¥éƒ½æ”¹æˆäº†åœ¨webé¡µé¢é…ç½®ï¼Œå¦‚é‡åˆ°é…ç½®å¼‚å¸¸ï¼Œè¯·åˆ é™¤`application.yml`æ–‡ä»¶ï¼Œç„¶åé‡æ–°æ‰§è¡Œä¸€é”®å‘½ä»¤ï¼Œä¿®æ”¹è‡ªå®šä¹‰çš„è´¦å·å¯†ç ï¼Œ`docker restart oci-helper`é‡å¯å®¹å™¨å³å¯ã€‚

## æ‰‹åŠ¨éƒ¨ç½²ï¼ˆä¸æ¨èï¼‰

<details>
    <summary> â˜œ Read more ğŸ‘¨â€ğŸ’»</summary>

### 1. æ–°å»ºç›®å½•

åˆ›å»ºå¯†é’¥æ–‡ä»¶å­˜æ”¾ç›®å½•`/app/oci-helper/keys`ï¼Œå­˜æ”¾ä»ç”²éª¨æ–‡äº‘æ§åˆ¶å°ç”ŸæˆAPIæ—¶ä¸‹è½½çš„`å¯†é’¥æ–‡ä»¶.pem`ï¼Œæ–°å¢ocié…ç½®æ—¶åªéœ€è¾“å…¥`å¯†é’¥æ–‡ä»¶åç§°.pem`å³å¯ï¼Œé»˜è®¤ä¼šåŠ ä¸Šè¿™ä¸ªç›®å½•å…¨è·¯å¾„ã€‚

```bash
mkdir -p /app/oci-helper/keys && cd /app/oci-helper
```

### 2. ä¸‹è½½æ–‡ä»¶

1. ä¸‹è½½`Releases`ä¸­æœ€æ–°çš„`application.yml`ã€`oci-helper.db`è¿™ä¸¤ä¸ªæ–‡ä»¶åˆ°`/app/oci-helper`ç›®å½•ä¸‹ï¼Œå¹¶ä¿®æ”¹`application.yml`éƒ¨åˆ†é…ç½®ã€‚
2. å¦‚ä¸ä½¿ç”¨ docker éƒ¨ç½²åˆ™å†ä¸‹è½½ä¸€ä¸ª`ocihelper-1.1.0.jar`æ–‡ä»¶åˆ°`/app/oci-helper`ç›®å½•ä¸‹ï¼Œç›´æ¥`nohup java -jar ocihelper-1.1.0.jar > /var/log/oci-helper.log &`è¿è¡Œå³å¯ï¼ˆå‰ææ˜¯ç¯å¢ƒä¸Šè¦æœ‰`jre8`æˆ–`jdk8`ä»¥ä¸Šçš„ç¯å¢ƒï¼‰ã€‚
3. åç»­å¦‚æœæ›´æ–°jaråŒ…æˆ–è€…dockeré•œåƒï¼Œéœ€è¦å®‰è£…sqliteå¹¶è¿è¡Œ`sh_oci-helper_install.sh`ä¸­æ›´æ–°ç‰ˆæœ¬å·çš„å‘½ä»¤ï¼ˆè‡ªè¡Œè§£å†³ï¼‰ã€‚

### 3. dockeréƒ¨ç½²

éœ€æå‰å®‰è£…dockerç¯å¢ƒï¼Œæ”¯æŒarm64ã€amd64æ¶æ„ã€‚

#### 3.1 æ–¹å¼ä¸€

dockerç›´æ¥è¿è¡Œï¼š

```bash
docker run -d --name oci-helper --restart=always \
-p 8818:8818 \
-v /app/oci-helper/application.yml:/app/oci-helper/application.yml \
-v /app/oci-helper/oci-helper.db:/app/oci-helper/oci-helper.db \
-v /app/oci-helper/keys:/app/oci-helper/keys \
ghcr.io/yohann0617/oci-helper:master
```

#### 3.2 æ–¹å¼äºŒ

ä¸‹è½½`Releases`ä¸­æœ€æ–°çš„`docker-compose.yml`åˆ°`/app/oci-helper`ç›®å½•ä¸‹ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
docker compose up -d
```

æ›´æ–°æœ€æ–°é•œåƒï¼š

```bash
docker compose pull && docker compose up -d
```

</details>

## é¡µé¢å±•ç¤º

![image.png](./img/0-login.png)
![image.png](./img/1-home.png)
![image.png](./img/1-user.png)
![image.png](./img/3-add-1.png)
![image.png](./img/3-add-2.png)
![image.png](./img/3-create.png)
![image.png](./img/3-instance-details.png)
![image.png](./img/3-instance-cfg.png)
![image.png](./img/3-security-rule.png)
![image.png](./img/3-traffic.png)
![image.png](./img/4-task.png)
![image.png](./img/5-log.png)
![image.png](./img/6-basic-cfg.png)
![image.png](./img/7-backup.png)
![image.png](./img/8-inform.png)

## Stargazers over time

[![Stargazers over time](https://starchart.cc/Yohann0617/oci-helper.svg)](https://starchart.cc/Yohann0617/oci-helper)
